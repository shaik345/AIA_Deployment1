<?xml version = '1.0' encoding = 'UTF-8'?>
<!--
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  Oracle JDeveloper BPEL Designer 
  
  Created: 
  Author:  
  Purpose: 
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
-->
<process xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" name="SyncItemListPIMReqABCSImplProcess" targetNamespace="http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1" xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20" xmlns:tns="http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImplExtension/V1" xmlns:ns4="http://xmlns.oracle.com/EnterpriseServices/Core/PriceList/V2" xmlns:xacml="urn:oasis:names:tc:xacml:2.0:context:schema:cd:04" xmlns:itemlistabcs="http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:ns16="http://xmlns.oracle.com/PIM/QueryItemListPIMAdapter" xmlns:ns5="http://xmlns.oracle.com/EnterpriseObjects/Core/CommonEBO/V1" xmlns:ora="http://schemas.oracle.com/xpath/extension" xmlns:aiaeh="http://xmlns.oracle.com/AIAAsyncErrorHandlingBPELProcess" xmlns:ns9="http://xmlns.oracle.com/apps/ego/pubfwk/service" xmlns:ns17="http://xmlns.oracle.com/PIM/QueryBillOffMaterialsListPIMAdapter" xmlns:corecom="http://xmlns.oracle.com/EnterpriseObjects/Core/Common/V2" xmlns:ns1="http://xmlns.oracle.com/QueryItemListPIMAdapter" xmlns:coreitem="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/Item/V2" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common" xmlns:ns2="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/BillOfMaterials/V1" xmlns:itemebs="http://xmlns.oracle.com/EnterpriseServices/Core/Item/V2" xmlns:orcl="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc" xmlns:ns10="http://xmlns.oracle.com/apps/fnd/ServiceBean" xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xmlns:ns13="http://xmlns.oracle.com/apps/ego/item/service" xmlns:wsa="http://schemas.xmlsoap.org/ws/2003/03/addressing" xmlns:ns7="http://xmlns.oracle.com/oracle/apps/ego/pubfwk/service/PublicationService" xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath" xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap" xmlns:ns12="http://xmlns.oracle.com/QueryBillOffMaterialsListPIMAdapter" xmlns:ns6="http://xmlns.oracle.com/EnterpriseServices/Core/BillOfMaterials/V1" xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions" xmlns:ns11="http://xmlns.oracle.com/oracle/apps/ego/pubfwk/service/PublicationService" xmlns:aia="http://www.oracle.com/XSL/Transform/java/oracle.apps.aia.core.xpath.AIAFunctions" xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath" xmlns:itemlistabo="http://xmlns.oracle.com/xdb/APPS" xmlns:ehdr="http://www.oracle.com/XSL/Transform/java/oracle.tip.esb.server.headers.ESBHeaderFunctions" xmlns:ns14="http://xmlns.oracle.com/PIM/QueryItemListPIMAdapter" xmlns:ns3="http://xmlns.oracle.com/EnterpriseObjects/Core/EBO/PriceList/V2" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xmlns:ns8="http://xmlns.oracle.com/SyncItemListPIMReqABCSImpl/correlationset" xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
         xml:id="id_1" xmlns:ui="http://xmlns.oracle.com/soa/designer/"
         xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xmlns:bpm="http://xmlns.oracle.com/bpmn20/extensions"
         xmlns:xdk="http://schemas.oracle.com/bpel/extension/xpath/function/xdk">
 <partnerLinks xml:id="id_2">
  <partnerLink name="SyncItemListPIMReqABCSImpl" partnerLinkType="itemlistabcs:SyncItemListPIMReqABCSImpl" myRole="SyncItemListPIMReqABCSImplProvider"
               xml:id="id_3"/>
  <partnerLink name="ItemEBS" partnerRole="ItemEBS_Role" partnerLinkType="itemebs:ItemEBS"
               xml:id="id_4"/>
  <partnerLink myRole="AIAAsyncErrorHandlingBPELProcessRequester" name="AIAAsyncErrorHandlingBPELProcess" partnerRole="AIAAsyncErrorHandlingBPELProcessProvider" partnerLinkType="aiaeh:AIAAsyncErrorHandlingBPELProcess"
               xml:id="id_5"/>
  <partnerLink name="PriceListEBSV2" partnerRole="PriceListEBS_Role" partnerLinkType="ns4:PriceListEBS_PL"
               xml:id="id_6"/>
  <partnerLink name="BillOfMaterialsEBS" partnerLinkType="ns6:BillOfMaterialsEBS_PL" partnerRole="BillOfMaterialsEBS_Role"
               xml:id="id_7"/>
  <partnerLink name="PublicationService" partnerLinkType="ns7:PublicationService_PortType_PL" partnerRole="PublicationService_PortType_Role"
               xml:id="id_8"/>
  <partnerLink name="GetListofTargetSystems" partnerLinkType="ns7:PublicationService_PortType_PL" partnerRole="PublicationService_PortType_Role"
               xml:id="id_9"/>
  <partnerLink name="QueryItemListPIMAdapter" partnerRole="QueryItemListPIMAdapterProvider" partnerLinkType="ns16:QueryItemListPIMAdapterService"
               xml:id="id_10"/>
  <partnerLink name="QueryBillOffMaterialsListPIMAdapter" partnerRole="QueryBillOffMaterialsListPIMAdapterProvider" partnerLinkType="ns17:QueryBillOffMaterialsListPIMAdapterService"
               xml:id="id_11"/>
  <partnerLink name="SyncItemListPIMReqABCSImplExtension" partnerLinkType="tns:SyncItemListPIMReqABCSImplExtensionService" partnerRole="SyncItemListPIMReqABCSImplExtensionServiceProvider" myRole="SyncItemListPIMReqABCSImplExtensionServiceProvider"
               xml:id="id_12"/>
 </partnerLinks>
 <variables xml:id="id_13">
  <variable name="SyncItemListReqMsg" messageType="itemlistabcs:SyncItemListReqMsg"
            xml:id="id_14"/>
  <variable name="ExtensionFaultVar" messageType="tns:FaultMessage"
            xml:id="id_15"/>
  <variable name="RuntimeFaultMessage" messageType="bpelx:RuntimeFaultMessage"
            xml:id="id_16"/>
  <variable name="AIAAsyncErrorHandlingBPELProcessRequestMessage" messageType="aiaeh:AIAAsyncErrorHandlingBPELProcessRequestMessage"
            xml:id="id_17"/>
  <variable name="Sender" element="corecom:Sender" xml:id="id_18"/>
  <variable name="Title" type="xsd:string" xml:id="id_19"/>
  <variable name="EBM_HEADER" element="corecom:EBMHeader" xml:id="id_20"/>
  <variable name="InstanceID" type="xsd:string" xml:id="id_21"/>
  <variable name="ServiceName" type="xsd:string" xml:id="id_22"/>
  <variable name="TraceLogEnabled" type="xsd:boolean" xml:id="id_23"/>
  <variable name="syncBillsOfMaterialListEBM" messageType="ns6:SyncBillOfMaterialsListReqMsg"
            xml:id="id_24"/>
  <variable name="syncPriceListListEBM" messageType="itemlistabcs:SyncPriceListListEBMMsg"
            xml:id="id_25"/>
  <variable name="syncItemListEBM" messageType="itemlistabcs:SyncItemListEBMMsg"
            xml:id="id_26"/>
  <variable name="InvokePublicationService_UpdatePublicationStatus_InputVariable" messageType="ns7:PublicationService_UpdatePublicationStatus_InputMessage"
            xml:id="id_27"/>
  <variable name="InvokePublicationService_PublicationService_OutputVariable" messageType="ns7:PublicationService_UpdatePublicationStatus_OutputMessage"
            xml:id="id_28"/>
  <variable name="invokeGetListofTargetSystems_GetBatchSystems_InputVariable" messageType="ns11:PublicationService_GetBatchSystems_InputMessage"
            xml:id="id_29"/>
  <variable name="invokeGetListofTargetSystems_GetBatchSystems_OutputVariable" messageType="ns11:PublicationService_GetBatchSystems_OutputMessage"
            xml:id="id_30"/>
  <variable name="SystemID" type="xsd:string" xml:id="id_31"/>
  <variable name="SenderSystemId" type="xsd:string" xml:id="id_32"/>
  <variable name="XSLTParameters" element="bpelcommon:parameters"
            xml:id="id_33"/>
  <variable name="PublicationXSLTParameters" element="bpelcommon:parameters"
            xml:id="id_34"/>
  <variable name="ErrorXSLTParameters" element="bpelcommon:parameters"
            xml:id="id_35"/>
  <variable name="BatchId" type="xsd:string" xml:id="id_36"/>
  <variable name="FlowNWhileLoopCount" type="xsd:integer" xml:id="id_37"/>
  <variable name="NoofTargets" type="xsd:integer" xml:id="id_38"/>
  <variable name="NumberofParallelItemTargets" type="xsd:integer"
            xml:id="id_39"/>
  <variable name="NumberofParallelBOMTargets" type="xsd:integer"
            xml:id="id_40"/>
  <variable name="FlowNWhileLoopIndex" type="xsd:integer" xml:id="id_41"/>
  <variable name="FlowNLoopCount" type="xsd:integer" xml:id="id_42"/>
  <variable name="ItemSyncWhileLoopFlag" type="xsd:string" xml:id="id_43"/>
  <variable name="TotalItemCount" type="xsd:integer" xml:id="id_44"/>
  <variable name="ItemAdapterStartIndex" type="xsd:integer" xml:id="id_45"/>
  <variable name="BOMSyncWhileLoopFlag" type="xsd:string" xml:id="id_46"/>
  <variable name="TotalBOMCount" type="xsd:integer" xml:id="id_47"/>
  <variable name="BOMAdapterStartIndex" type="xsd:integer" xml:id="id_48"/>
  <variable name="TargetEntityStatusVar" messageType="itemlistabcs:TargetEntityStatusArrayMsg"
            xml:id="id_49"/>
  <variable name="invokeBillsOfMaterialServiceCallGetItemStructure_InputVariable" messageType="ns17:QueryBillOffMaterialsListPIMAdapterRequestMessage"
            xml:id="id_50"/>
  <variable name="invokeBillsOfMaterialServiceCallGetItemStructure_OutputVariable" messageType="ns17:QueryBillOffMaterialsListPIMAdapterResponseMessage"
            xml:id="id_51"/>
  <variable name="SyncBOMFlowN_Variable" type="xsd:int" xml:id="id_52"/>
  <variable name="ProcessedTargetIndex" type="xsd:integer" xml:id="id_53"/>
  <variable name="InvokeItemServiceCallGetItemInformation_InvokeItemService_InputVariable" messageType="ns16:QueryItemListPIMAdapterRequestMessage"
            xml:id="id_54"/>
  <variable name="InvokeItemServiceCallGetItemInformation_InvokeItemService_OutputVariable" messageType="ns16:QueryItemListPIMAdapterResponseMessage"
            xml:id="id_55"/>
  <variable name="WorkFlowReleaseFlagValue" type="xsd:string" xml:id="id_56"/>
  <variable name="tempCounter" type="xsd:int" xml:id="id_57"/>
  <variable name="QueryItemSessionID" type="xsd:string" xml:id="id_58"/>
  <variable name="QueryBOMSessionID" type="xsd:string" xml:id="id_59"/>
  <variable name="ItemSyncWhileLoopCount" type="xsd:int" xml:id="id_60"/>
  <variable name="PreXformABMtoEBMItemListABMMsg_InputVar" messageType="tns:PreXformABMtoEBMItemListABMMsg"
            xml:id="id_61"/>
  <variable name="PreXformABMtoEBMItemListABMMsg_OutputVar" messageType="tns:PreXformABMtoEBMItemListABMMsg"
            xml:id="id_62"/>
  <variable name="PreXformABMtoEBMIBillOfMaterialsListABMMsg_InputVar" messageType="tns:PreXformABMtoEBMIBillOfMaterialsListABMMsg"
            xml:id="id_63"/>
  <variable name="PreXformABMtoEBMIBillOfMaterialsListABMMsg_OutputVar" messageType="tns:PreXformABMtoEBMIBillOfMaterialsListABMMsg"
            xml:id="id_64"/>
  <variable name="EnterpriseFaultMsg" messageType="itemlistabcs:FaultMsg"
            xml:id="id_65"/>
<variable name="Responsibility_Name" type="xsd:normalizedString"
          xml:id="id_66"/>
        <variable name="Responsibility_Appl_Name" type="xsd:normalizedString"
                  xml:id="id_67"/>
        <variable name="Security_Group_Name" type="xsd:normalizedString"
                  xml:id="id_68"/>
        <variable name="Nls_Language" type="xsd:normalizedString"
                  xml:id="id_69"/>
  <variable name="BOMSyncItemListReqMsg"
            messageType="itemlistabcs:SyncItemListEBMMsg" xml:id="id_2292"/>
  <variable name="TempSyncItemListEBM"
            messageType="itemlistabcs:SyncItemListEBMMsg" xml:id="id_2298"/>
 </variables>
 <faultHandlers xml:id="id_70">
  <catch faultName="bpelx:remoteFault" faultVariable="RuntimeFaultMessage"
         xml:id="id_71">
   <sequence name="Sequence_RemoteFault" xml:id="id_72">
    <bpelx:exec name="TraceLog_BeginRemoteFaultCatch" language="java" version="1.3"
                xml:id="id_73">
     <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Entering Error Hanlder Remote Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
    </bpelx:exec>
    <assign name="AssignPublicationPublicationServiceInput" xml:id="id_74">
     <copy xml:id="id_75">
      <from xml:id="id_76">
       <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                              xml:id="id_77">
        <bpelcommon:item xml:id="id_78">
         <bpelcommon:name xml:id="id_79">MODE</bpelcommon:name>
         <bpelcommon:value xml:id="id_80"/>
        </bpelcommon:item>
        <bpelcommon:item xml:id="id_81">
         <bpelcommon:name xml:id="id_82">BATCHID</bpelcommon:name>
         <bpelcommon:value xml:id="id_83"/>
        </bpelcommon:item>
        <bpelcommon:item xml:id="id_84">
         <bpelcommon:name xml:id="id_85">ERRORSUMMARY</bpelcommon:name>
         <bpelcommon:value xml:id="id_86"/>
        </bpelcommon:item>
       </bpelcommon:parameters>
      </from>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters"
          xml:id="id_87"/>
     </copy>
     <copy xml:id="id_88">
      <from expression="'1'" xml:id="id_89"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='MODE']/bpelcommon:value"
          xml:id="id_90"/>
     </copy>
     <copy xml:id="id_91">
      <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
            xml:id="id_92"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BATCHID']/bpelcommon:value"
          xml:id="id_93"/>
     </copy>
     <copy xml:id="id_94">
      <from variable="RuntimeFaultMessage" part="summary" xml:id="id_95"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ERRORSUMMARY']/bpelcommon:value"
          xml:id="id_96"/>
     </copy>
    </assign>
    <assign name="XformErrorMessagetoPublicationServiceInput" xml:id="id_97">
     <bpelx:annotation xml:id="id_98">
      <bpelx:pattern xml:id="id_99">transformation</bpelx:pattern>
     </bpelx:annotation>
     <copy xml:id="id_100">
      <from expression="ora:processXSLT('xsl/XformErrorMessagetoPublicationServiceInput.xsl',bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body'),bpws:getVariableData('ErrorXSLTParameters'))"
            xml:id="id_101"/>
      <to variable="InvokePublicationService_UpdatePublicationStatus_InputVariable" part="body"
          xml:id="id_102"/>
     </copy>
     <copy xml:id="id_2262">
                                            <from expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', 'Default.SystemID' ,false())"
                                                  xml:id="id_2263"/>
                                            <to variable="SystemID"
                                                xml:id="id_2264"/>
                                        </copy>
    </assign>
    <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_UpdatePublicationStatus_InputVariable" outputVariable="InvokePublicationService_PublicationService_OutputVariable"
            xml:id="id_136" bpelx:invokeAsDetail="no">
     <bpelx:inputProperty name="endpointURI" xml:id="id_2261"
                          expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
    </invoke>
    <bpelx:exec name="TraceLog_EndRemoteFaultCatch" language="java" version="1.3"
                xml:id="id_137">
     <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Exiting Error Hanlder Remote Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
    </bpelx:exec>
    <throw name="ReThrow_RemoteFault" faultName="bpelx:remoteFault" faultVariable="RuntimeFaultMessage"
           xml:id="id_138"/>
   </sequence>
  </catch>
  <catch faultName="bpelx:bindingFault" faultVariable="RuntimeFaultMessage"
         xml:id="id_139">
   <sequence name="Sequence_BindingFault" xml:id="id_140">
    <bpelx:exec name="TraceLog_BeginBindingFaultCatch" language="java" version="1.3"
                xml:id="id_141">
     <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Entering Error Hanlder Binding Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
    </bpelx:exec>
    <assign name="AssignPublicationPublicationServiceInput" xml:id="id_142">
     <copy xml:id="id_143">
      <from xml:id="id_144">
       <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                              xml:id="id_145">
        <bpelcommon:item xml:id="id_146">
         <bpelcommon:name xml:id="id_147">MODE</bpelcommon:name>
         <bpelcommon:value xml:id="id_148"/>
        </bpelcommon:item>
        <bpelcommon:item xml:id="id_149">
         <bpelcommon:name xml:id="id_150">BATCHID</bpelcommon:name>
         <bpelcommon:value xml:id="id_151"/>
        </bpelcommon:item>
        <bpelcommon:item xml:id="id_152">
         <bpelcommon:name xml:id="id_153">ERRORSUMMARY</bpelcommon:name>
         <bpelcommon:value xml:id="id_154"/>
        </bpelcommon:item>
       </bpelcommon:parameters>
      </from>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters"
          xml:id="id_155"/>
     </copy>
     <copy xml:id="id_156">
      <from expression="'1'" xml:id="id_157"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='MODE']/bpelcommon:value"
          xml:id="id_158"/>
     </copy>
     <copy xml:id="id_159">
      <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
            xml:id="id_160"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BATCHID']/bpelcommon:value"
          xml:id="id_161"/>
     </copy>
     <copy xml:id="id_162">
      <from variable="RuntimeFaultMessage" part="summary" xml:id="id_163"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ERRORSUMMARY']/bpelcommon:value"
          xml:id="id_164"/>
     </copy>
    </assign>
    <assign name="XformErrorMessagetoPublicationServiceInput" xml:id="id_165">
     <bpelx:annotation xml:id="id_166">
      <bpelx:pattern xml:id="id_167">transformation</bpelx:pattern>
     </bpelx:annotation>
     <copy xml:id="id_168">
      <from expression="ora:processXSLT('xsl/XformErrorMessagetoPublicationServiceInput.xsl',bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body'),bpws:getVariableData('ErrorXSLTParameters'))"
            xml:id="id_169"/>
      <to variable="InvokePublicationService_UpdatePublicationStatus_InputVariable" part="body"
          xml:id="id_170"/>
     </copy>
     <copy xml:id="id_2255">
                                            <from expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', 'Default.SystemID' ,false())"
                                                  xml:id="id_2256"/>
                                            <to variable="SystemID"
                                                xml:id="id_2257"/>
                                        </copy>
    </assign>
    <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_UpdatePublicationStatus_InputVariable" outputVariable="InvokePublicationService_PublicationService_OutputVariable"
            xml:id="id_204" bpelx:invokeAsDetail="no">
     <bpelx:inputProperty name="endpointURI" xml:id="id_2262"
                          expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
    </invoke>
    <bpelx:exec name="TraceLog_EndBindingFaultCatch" language="java" version="1.3"
                xml:id="id_205">
     <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Exiting Error Hanlder Binding Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
    </bpelx:exec>
    <throw name="ReThrow_BindingFault" faultName="bpelx:bindingFault" faultVariable="RuntimeFaultMessage"
           xml:id="id_206"/>
   </sequence>
  </catch>
  <catch faultName="tns:fault" faultVariable="ExtensionFaultVar"
         xml:id="id_207">
   <sequence name="Sequence_ExtentionFault" xml:id="id_208">
    <bpelx:exec name="TraceLog_BeginExtensionFaultCatch" language="java" version="1.3"
                xml:id="id_209">
     <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Entering Error Hanlder Extension Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
    </bpelx:exec>
    <assign name="AssignPublicationPublicationServiceInput" xml:id="id_210">
     <copy xml:id="id_211">
      <from xml:id="id_212">
       <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                              xml:id="id_213">
        <bpelcommon:item xml:id="id_214">
         <bpelcommon:name xml:id="id_215">MODE</bpelcommon:name>
         <bpelcommon:value xml:id="id_216"/>
        </bpelcommon:item>
        <bpelcommon:item xml:id="id_217">
         <bpelcommon:name xml:id="id_218">BATCHID</bpelcommon:name>
         <bpelcommon:value xml:id="id_219"/>
        </bpelcommon:item>
        <bpelcommon:item xml:id="id_220">
         <bpelcommon:name xml:id="id_221">ERRORSUMMARY</bpelcommon:name>
         <bpelcommon:value xml:id="id_222"/>
        </bpelcommon:item>
       </bpelcommon:parameters>
      </from>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters"
          xml:id="id_223"/>
     </copy>
     <copy xml:id="id_224">
      <from expression="'1'" xml:id="id_225"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='MODE']/bpelcommon:value"
          xml:id="id_226"/>
     </copy>
     <copy xml:id="id_227">
      <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
            xml:id="id_228"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BATCHID']/bpelcommon:value"
          xml:id="id_229"/>
     </copy>
     <copy xml:id="id_230">
      <from variable="RuntimeFaultMessage" part="summary" xml:id="id_231"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ERRORSUMMARY']/bpelcommon:value"
          xml:id="id_232"/>
     </copy>
     
    </assign>
    <assign name="XformErrorMessagetoPublicationServiceInput" xml:id="id_233">
     <bpelx:annotation xml:id="id_234">
      <bpelx:pattern xml:id="id_235">transformation</bpelx:pattern>
     </bpelx:annotation>
     <copy xml:id="id_236">
      <from expression="ora:processXSLT('xsl/XformErrorMessagetoPublicationServiceInput.xsl',bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body'),bpws:getVariableData('ErrorXSLTParameters'))"
            xml:id="id_237"/>
      <to variable="InvokePublicationService_UpdatePublicationStatus_InputVariable" part="body"
          xml:id="id_238"/>
     </copy>
     <copy xml:id="id_2258">
                                            <from expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', 'Default.SystemID' ,false())"
                                                  xml:id="id_2259"/>
                                            <to variable="SystemID"
                                                xml:id="id_2260"/>
                                        </copy>
    </assign>   
    <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_UpdatePublicationStatus_InputVariable" outputVariable="InvokePublicationService_PublicationService_OutputVariable"
            xml:id="id_272" bpelx:invokeAsDetail="no">
     <bpelx:inputProperty name="endpointURI" xml:id="id_2263"
                          expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
    </invoke>
    <bpelx:exec name="TraceLog_EndExtensionFaultCatch" language="java" version="1.3"
                xml:id="id_273">
     <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Exiting Error Hanlder Extension Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
    </bpelx:exec>
    <assign name="Assign_Fault" xml:id="id_274">
     <copy xml:id="id_275">
      <from variable="ExtensionFaultVar" part="AIAFault" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultMessage"
            xml:id="id_276"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultMessage"
          xml:id="id_277"/>
     </copy>
    </assign>
    <invoke name="Invoke_AIAAsyncErrorHandlingBPELProcess" partnerLink="AIAAsyncErrorHandlingBPELProcess" portType="aiaeh:AIAAsyncErrorHandlingBPELProcess" operation="initiate" inputVariable="AIAAsyncErrorHandlingBPELProcessRequestMessage"
            xml:id="id_278"/>
    <throw name="Rethrow_ExtFault" faultName="tns:fault" faultVariable="ExtensionFaultVar"
           xml:id="id_279"/>
   </sequence>
  </catch>
  <catch faultName="bpelx:subLanguageExecutionFault" faultVariable="RuntimeFaultMessage"
         xml:id="id_280">
   <sequence name="Sequence_SubLanguageExecutionFault" xml:id="id_281">
    <bpelx:exec name="TraceLog_BeginSubLanguageExecutionFaultCatch" language="java" version="1.3"
                xml:id="id_282">
     <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Entering Error Hanlder SubLanguageExecution Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
    </bpelx:exec>
    <assign name="Assign_AIAAsyncErrorHandlingBPELProcessRequestMessage"
            xml:id="id_283">
     <copy xml:id="id_284">
      <from variable="RuntimeFaultMessage" part="code" xml:id="id_285"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultMessage/corecom:Code"
          xml:id="id_286"/>
     </copy>
     <copy xml:id="id_287">
      <from variable="RuntimeFaultMessage" part="summary" xml:id="id_288"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultMessage/corecom:Text"
          xml:id="id_289"/>
     </copy>
     <copy xml:id="id_290">
      <from expression="xp20:current-dateTime()" xml:id="id_291"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:ReportingDateTime"
          xml:id="id_292"/>
     </copy>
     <copy xml:id="id_293">
      <from expression="ora:getProcessId()" xml:id="id_294"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:ID"
          xml:id="id_295"/>
     </copy>
     <copy xml:id="id_296">
      <from expression="'BPEL'" xml:id="id_297"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:ImplementationCode"
          xml:id="id_298"/>
     </copy>
     <copy xml:id="id_299">
      <from expression="ora:getInstanceId()" xml:id="id_300"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:InstanceID"
          xml:id="id_301"/>
     </copy>
    </assign>
    <invoke name="Invoke_AIAAsyncErrorHandlingBPELProcess" partnerLink="AIAAsyncErrorHandlingBPELProcess" portType="aiaeh:AIAAsyncErrorHandlingBPELProcess" operation="initiate" inputVariable="AIAAsyncErrorHandlingBPELProcessRequestMessage"
            xml:id="id_302"/>
    <assign name="AssignPublicationPublicationServiceInput" xml:id="id_303">
     <copy xml:id="id_304">
      <from xml:id="id_305">
       <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                              xml:id="id_306">
        <bpelcommon:item xml:id="id_307">
         <bpelcommon:name xml:id="id_308">MODE</bpelcommon:name>
         <bpelcommon:value xml:id="id_309"/>
        </bpelcommon:item>
        <bpelcommon:item xml:id="id_310">
         <bpelcommon:name xml:id="id_311">BATCHID</bpelcommon:name>
         <bpelcommon:value xml:id="id_312"/>
        </bpelcommon:item>
        <bpelcommon:item xml:id="id_313">
         <bpelcommon:name xml:id="id_314">ERRORSUMMARY</bpelcommon:name>
         <bpelcommon:value xml:id="id_315"/>
        </bpelcommon:item>
       </bpelcommon:parameters>
      </from>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters"
          xml:id="id_316"/>
     </copy>
     <copy xml:id="id_317">
      <from expression="'1'" xml:id="id_318"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='MODE']/bpelcommon:value"
          xml:id="id_319"/>
     </copy>
     <copy xml:id="id_320">
      <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
            xml:id="id_321"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BATCHID']/bpelcommon:value"
          xml:id="id_322"/>
     </copy>
     <copy xml:id="id_323">
      <from variable="RuntimeFaultMessage" part="summary" xml:id="id_324"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ERRORSUMMARY']/bpelcommon:value"
          xml:id="id_325"/>
     </copy>
    </assign>
    <assign name="XformErrorMessagetoPublicationServiceInput" xml:id="id_326">
     <bpelx:annotation xml:id="id_327">
      <bpelx:pattern xml:id="id_328">transformation</bpelx:pattern>
     </bpelx:annotation>
     <copy xml:id="id_329">
      <from expression="ora:processXSLT('xsl/XformErrorMessagetoPublicationServiceInput.xsl',bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body'),bpws:getVariableData('ErrorXSLTParameters'))"
            xml:id="id_330"/>
      <to variable="InvokePublicationService_UpdatePublicationStatus_InputVariable" part="body"
          xml:id="id_331"/>
     </copy>
       <copy xml:id="id_2265">
                                            <from expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', 'Default.SystemID' ,false())"
                                                  xml:id="id_2266"/>
                                            <to variable="SystemID"
                                                xml:id="id_2267"/>
                                        </copy>
    </assign>
    <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_UpdatePublicationStatus_InputVariable" outputVariable="InvokePublicationService_PublicationService_OutputVariable"
            xml:id="id_365" bpelx:invokeAsDetail="no">
     <bpelx:inputProperty name="endpointURI" xml:id="id_2264"
                          expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
    </invoke>
    <bpelx:exec name="TraceLog_EndSubLanguageExecutionFaultCatch" language="java" version="1.3"
                xml:id="id_366">
     <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Exiting Error Hanlder SubLanguageExecution Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
    </bpelx:exec>
    <throw name="Rethrow_subLanguageExecutionFault" faultName="bpelx:subLanguageExecutionFault" faultVariable="RuntimeFaultMessage"
           xml:id="id_367"/>
   </sequence>
  </catch>
  <catch faultName="itemlistabcs:fault" faultVariable="EnterpriseFaultMsg"
         xml:id="id_368">
   <sequence name="Fault" xml:id="id_369">
    <assign name="Assign_AIAAsyncErrorHandlingBPELProcessRequestMessage"
            xml:id="id_370">
     <copy xml:id="id_371">
      <from variable="EnterpriseFaultMsg" part="AIAFault" query="/corecom:Fault"
            xml:id="id_372"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault"
          xml:id="id_373"/>
     </copy>
     <copy xml:id="id_374">
      <from expression="xp20:current-dateTime()" xml:id="id_375"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:ReportingDateTime"
          xml:id="id_376"/>
     </copy>
    </assign>
    <invoke name="Invoke_AIAAsyncErrorHandlingBPELProcess" partnerLink="AIAAsyncErrorHandlingBPELProcess" portType="aiaeh:AIAAsyncErrorHandlingBPELProcess" operation="initiate" inputVariable="AIAAsyncErrorHandlingBPELProcessRequestMessage"
            xml:id="id_377"/>
    <assign name="AssignPublicationPublicationServiceInput" xml:id="id_378">
     <copy xml:id="id_379">
      <from xml:id="id_380">
       <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                              xml:id="id_381">
        <bpelcommon:item xml:id="id_382">
         <bpelcommon:name xml:id="id_383">MODE</bpelcommon:name>
         <bpelcommon:value xml:id="id_384"/>
        </bpelcommon:item>
        <bpelcommon:item xml:id="id_385">
         <bpelcommon:name xml:id="id_386">BATCHID</bpelcommon:name>
         <bpelcommon:value xml:id="id_387"/>
        </bpelcommon:item>
        <bpelcommon:item xml:id="id_388">
         <bpelcommon:name xml:id="id_389">ERRORSUMMARY</bpelcommon:name>
         <bpelcommon:value xml:id="id_390"/>
        </bpelcommon:item>
       </bpelcommon:parameters>
      </from>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters"
          xml:id="id_391"/>
     </copy>
     <copy xml:id="id_392">
      <from expression="'1'" xml:id="id_393"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='MODE']/bpelcommon:value"
          xml:id="id_394"/>
     </copy>
     <copy xml:id="id_395">
      <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
            xml:id="id_396"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BATCHID']/bpelcommon:value"
          xml:id="id_397"/>
     </copy>
     <copy xml:id="id_398">
      <from variable="EnterpriseFaultMsg" part="AIAFault" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultMessage/corecom:Text"
            xml:id="id_399"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ERRORSUMMARY']/bpelcommon:value"
          xml:id="id_400"/>
     </copy>
    </assign>
    <assign name="XformErrorMessagetoPublicationServiceInput" xml:id="id_401">
     <bpelx:annotation xml:id="id_402">
      <bpelx:pattern xml:id="id_403">transformation</bpelx:pattern>
     </bpelx:annotation>
     <copy xml:id="id_404">
      <from expression="ora:processXSLT('xsl/XformErrorMessagetoPublicationServiceInput.xsl',bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body'),bpws:getVariableData('ErrorXSLTParameters'))"
            xml:id="id_405"/>
      <to variable="InvokePublicationService_UpdatePublicationStatus_InputVariable" part="body"
          xml:id="id_406"/>
     </copy>
       <copy xml:id="id_2268">
                                            <from expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', 'Default.SystemID' ,false())"
                                                  xml:id="id_2269"/>
                                            <to variable="SystemID"
                                                xml:id="id_2270"/>
                                        </copy>
    </assign>
    
    <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_UpdatePublicationStatus_InputVariable" outputVariable="InvokePublicationService_PublicationService_OutputVariable"
            xml:id="id_440" bpelx:invokeAsDetail="no">
     <bpelx:inputProperty name="endpointURI" xml:id="id_2265"
                          expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
    </invoke>
    <bpelx:exec name="TraceLog_EndSubLanguageExecutionFaultCatch" language="java" version="1.3"
                xml:id="id_441">
     <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Exiting Error Hanlder SubLanguageExecution Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
    </bpelx:exec>
    <throw name="Rethrow_AIAFault" faultName="itemlistabcs:fault" faultVariable="EnterpriseFaultMsg"
           xml:id="id_442"/>
   </sequence>
  </catch>
  <catchAll xml:id="id_443">
   <sequence name="Sequence_CatchAll" xml:id="id_444">
    <bpelx:exec name="TraceLog_BeginCatchAll" language="java" version="1.3"
                xml:id="id_445">
     <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Entering Error Hanlder Catch All Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
    </bpelx:exec>
    <assign name="Assign_AIAAsyncErrorHandlingBPELProcessRequestMessage"
            xml:id="id_446">
     <copy xml:id="id_447">
      <from expression="ora:getFaultAsString()" xml:id="id_448"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultMessage/corecom:Text"
          xml:id="id_449"/>
     </copy>
     <copy xml:id="id_450">
      <from expression="xp20:current-dateTime()" xml:id="id_451"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:ReportingDateTime"
          xml:id="id_452"/>
     </copy>
     <copy xml:id="id_453">
      <from expression="ora:getProcessId()" xml:id="id_454"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:ID"
          xml:id="id_455"/>
     </copy>
     <copy xml:id="id_456">
      <from expression="'BPEL'" xml:id="id_457"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:ImplementationCode"
          xml:id="id_458"/>
     </copy>
     <copy xml:id="id_459">
      <from expression="ora:getInstanceId()" xml:id="id_460"/>
      <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:InstanceID"
          xml:id="id_461"/>
     </copy>
    </assign>
    <invoke name="Invoke_AIAAsyncErrorHandlingBPELProcess" partnerLink="AIAAsyncErrorHandlingBPELProcess" portType="aiaeh:AIAAsyncErrorHandlingBPELProcess" operation="initiate" inputVariable="AIAAsyncErrorHandlingBPELProcessRequestMessage"
            xml:id="id_462"/>
    <assign name="AssignPublicationPublicationServiceInput" xml:id="id_463">
     <copy xml:id="id_464">
      <from xml:id="id_465">
       <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                              xml:id="id_466">
        <bpelcommon:item xml:id="id_467">
         <bpelcommon:name xml:id="id_468">MODE</bpelcommon:name>
         <bpelcommon:value xml:id="id_469"/>
        </bpelcommon:item>
        <bpelcommon:item xml:id="id_470">
         <bpelcommon:name xml:id="id_471">BATCHID</bpelcommon:name>
         <bpelcommon:value xml:id="id_472"/>
        </bpelcommon:item>
        <bpelcommon:item xml:id="id_473">
         <bpelcommon:name xml:id="id_474">ERRORSUMMARY</bpelcommon:name>
         <bpelcommon:value xml:id="id_475"/>
        </bpelcommon:item>
       </bpelcommon:parameters>
      </from>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters"
          xml:id="id_476"/>
     </copy>
     <copy xml:id="id_477">
      <from expression="'1'" xml:id="id_478"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='MODE']/bpelcommon:value"
          xml:id="id_479"/>
     </copy>
     <copy xml:id="id_480">
      <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
            xml:id="id_481"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BATCHID']/bpelcommon:value"
          xml:id="id_482"/>
     </copy>
     <copy xml:id="id_483">
      <from variable="RuntimeFaultMessage" part="summary" xml:id="id_484"/>
      <to variable="ErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ERRORSUMMARY']/bpelcommon:value"
          xml:id="id_485"/>
     </copy>
    </assign>
    <assign name="XformErrorMessagetoPublicationServiceInput" xml:id="id_486">
     <bpelx:annotation xml:id="id_487">
      <bpelx:pattern xml:id="id_488">transformation</bpelx:pattern>
     </bpelx:annotation>
     <copy xml:id="id_489">
      <from expression="ora:processXSLT('xsl/XformErrorMessagetoPublicationServiceInput.xsl',bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body'),bpws:getVariableData('ErrorXSLTParameters'))"
            xml:id="id_490"/>
      <to variable="InvokePublicationService_UpdatePublicationStatus_InputVariable" part="body"
          xml:id="id_491"/>
     </copy>
      <copy xml:id="id_2272">
                                            <from expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', 'Default.SystemID' ,false())"
                                                  xml:id="id_2273"/>
                                            <to variable="SystemID"
                                                xml:id="id_2274"/>
                                        </copy>
    </assign>
    <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_UpdatePublicationStatus_InputVariable" outputVariable="InvokePublicationService_PublicationService_OutputVariable"
            xml:id="id_525" bpelx:invokeAsDetail="no">
     <bpelx:inputProperty name="endpointURI" xml:id="id_2271"
                          expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
    </invoke>
    <bpelx:exec name="TraceLog_EndCatchAll" language="java" version="1.3"
                xml:id="id_526">
     <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Exiting Error Hanlder Catch All Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
    </bpelx:exec>
    <throw name="Throw_Fault" faultName="itemlistabcs:Fault" faultVariable="AIAAsyncErrorHandlingBPELProcessRequestMessage"
           xml:id="id_527"/>
   </sequence>
  </catchAll>
 </faultHandlers>
 <sequence name="main" xml:id="id_528">
  <receive name="ReceiveItemList" partnerLink="SyncItemListPIMReqABCSImpl" portType="itemlistabcs:SyncItemListPIMReqABCSImplService" operation="SyncItemList" variable="SyncItemListReqMsg" createInstance="yes"
           xml:id="id_529"/>
  <scope name="Scope_InitializeProcess" xml:id="id_530">
   <sequence name="InitializeProcess" xml:id="id_531">
    <assign name="GetTitle" xml:id="id_532">
     <copy xml:id="id_533">
      <from expression="concat('SyncItemList - ', bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE'))"
            xml:id="id_534"/>
      <to variable="Title" xml:id="id_535"/>
     </copy>
     <copy xml:id="id_536">
      <from expression="ora:getInstanceId()" xml:id="id_537"/>
      <to variable="InstanceID" xml:id="id_538"/>
     </copy>
     <copy xml:id="id_539">
      <from expression="'{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl'"
            xml:id="id_540"/>
      <to variable="ServiceName" xml:id="id_541"/>
     </copy>
    </assign>
    <bpelx:exec name="SetTitle" language="java" version="1.5" xml:id="id_542">
     <![CDATA[setCompositeInstanceTitle((String)getVariableData("Title"));]]>
    </bpelx:exec>
    <bpelx:exec name="TraceLog_BeginABCS" language="java" version="1.5"
                xml:id="id_543">
     <![CDATA[java.lang.String TraceLogMessage = null;  
	java.lang.Boolean tracelogenabled;   
java.lang.String title = (java.lang.String)getVariableData("Title");          
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");       
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");      
 
tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                   
setVariableData("TraceLogEnabled", tracelogenabled);         
 
if (tracelogenabled.booleanValue())                                                                                 
{                                                                                                                                                                                       
                        
           
   TraceLogMessage = "Starting " + serviceName + " Instance: " + instanceID + title; ;                          
    
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage);  
    
}]]>
    </bpelx:exec>
    <assign name="AssignSystemSender" xml:id="id_544">
     <copy xml:id="id_545">
      <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/FROM_AGENT/SYSTEM"
            xml:id="id_546"/>
      <to variable="SenderSystemId" xml:id="id_547"/>
     </copy>
     <copy xml:id="id_548">
      <from expression="aia:getEBMHeaderSenderSystemNode('',bpws:getVariableData('SenderSystemId'))/ID"
            xml:id="id_549"/>
      <to variable="SystemID" xml:id="id_550"/>
     </copy>
    </assign>
    <assign name="Assign_WhileLoopStartandEndIndex" xml:id="id_551">
     <copy xml:id="id_552">
      <from expression="0" xml:id="id_553"/>
      <to variable="ItemAdapterStartIndex" xml:id="id_554"/>
     </copy>
     <copy xml:id="id_555">
      <from expression="0" xml:id="id_556"/>
      <to variable="BOMAdapterStartIndex" xml:id="id_557"/>
     </copy>
     <copy xml:id="id_558">
      <from expression="0" xml:id="id_559"/>
      <to variable="TotalItemCount" xml:id="id_560"/>
     </copy>
     <copy xml:id="id_561">
      <from expression="0" xml:id="id_562"/>
      <to variable="TotalBOMCount" xml:id="id_563"/>
     </copy>
     <copy xml:id="id_564">
      <from expression="'true'" xml:id="id_565"/>
      <to variable="ItemSyncWhileLoopFlag" xml:id="id_566"/>
     </copy>
     <copy xml:id="id_567">
      <from expression="'true'" xml:id="id_568"/>
      <to variable="BOMSyncWhileLoopFlag" xml:id="id_569"/>
     </copy>
     <copy xml:id="id_570">
      <from expression="0" xml:id="id_571"/>
      <to variable="ProcessedTargetIndex" xml:id="id_572"/>
     </copy>
    </assign>
    <assign name="Assign_WorkSpaceReleaseFromPayload" xml:id="id_573">
     <copy xml:id="id_574">
      <from expression="bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;Auto-Release&quot;]/VALUE')"
            xml:id="id_575"/>
      <to variable="WorkFlowReleaseFlagValue" xml:id="id_576"/>
     </copy>
    </assign>
   </sequence>
  </scope>
  <assign name="Assign_HeaderFromConfig" xml:id="id_577">
  <copy xml:id="id_578">
                <from expression="aia:getSystemModuleProperty('PIM','RESPONSIBILITY_NAME',false())"
                      xml:id="id_579"/>
                <to variable="Responsibility_Name" xml:id="id_580"/>
            </copy>
           </assign> 
  <switch name="Switch_HeaderExistsInConfig" xml:id="id_581">
   <case condition="bpws:getVariableData('Responsibility_Name') != ''"
         xml:id="id_582">
    <bpelx:annotation xml:id="id_583">
     <bpelx:pattern xml:id="id_584">HeaderExistsInConfig</bpelx:pattern>
     <bpelx:general xml:id="id_585">
      <bpelx:property name="userLabel" xml:id="id_586">HeaderExistsInConfig</bpelx:property>
     </bpelx:general>
    </bpelx:annotation>
    <sequence xml:id="id_587">
                    <assign name="Assign_FromConfigFile" xml:id="id_588">
                        <copy xml:id="id_589">
                            <from expression="aia:getSystemModuleProperty('PIM','RESPONSIBILITY_APPL_NAME',false())"
                                  xml:id="id_590"/>
                            <to variable="Responsibility_Appl_Name"
                                xml:id="id_591"/>
                        </copy>
                        <copy xml:id="id_592">
                            <from expression="aia:getSystemModuleProperty('PIM','SECURITY_GROUP_NAME',false())"
                                  xml:id="id_593"/>
                            <to variable="Security_Group_Name" xml:id="id_594"/>
                        </copy>
                        <copy xml:id="id_595">
                            <from expression="aia:getSystemModuleProperty('PIM','NLS_LANGUAGE',false())"
                                  xml:id="id_596"/>
                            <to variable="Nls_Language" xml:id="id_597"/>
                        </copy>
                    </assign>
    <assign name="AssignHeader" xml:id="id_598">
     <copy xml:id="id_599">
      <from variable="Responsibility_Name" xml:id="id_600"/>
      <to variable="invokeGetListofTargetSystems_GetBatchSystems_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:RESPONSIBILITY_NAME"
          xml:id="id_601"/>
     </copy>
     <copy xml:id="id_602">
      <from variable="Responsibility_Appl_Name" xml:id="id_603"/>
      <to variable="invokeGetListofTargetSystems_GetBatchSystems_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:RESPONSIBILITY_APPL_NAME"
          xml:id="id_604"/>
     </copy>
     <copy xml:id="id_605">
      <from variable="Security_Group_Name" xml:id="id_606"/>
      <to variable="invokeGetListofTargetSystems_GetBatchSystems_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:SECURITY_GROUP_NAME"
          xml:id="id_607"/>
     </copy>
     <copy xml:id="id_608">
      <from variable="Nls_Language" xml:id="id_609"/>
      <to variable="invokeGetListofTargetSystems_GetBatchSystems_InputVariable"
          part="header" query="/ns10:ServiceBean_Header/ns10:NLS_LANGUAGE"
          xml:id="id_610"/>
     </copy>
     <copy xml:id="id_611">
      <from variable="Responsibility_Name" xml:id="id_612"/>
      <to variable="InvokePublicationService_UpdatePublicationStatus_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:RESPONSIBILITY_NAME"
          xml:id="id_613"/>
     </copy>
     <copy xml:id="id_614">
      <from variable="Responsibility_Appl_Name" xml:id="id_615"/>
      <to variable="InvokePublicationService_UpdatePublicationStatus_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:RESPONSIBILITY_APPL_NAME"
          xml:id="id_616"/>
     </copy>
     <copy xml:id="id_617">
      <from variable="Security_Group_Name" xml:id="id_618"/>
      <to variable="InvokePublicationService_UpdatePublicationStatus_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:SECURITY_GROUP_NAME"
          xml:id="id_619"/>
     </copy>
     <copy xml:id="id_620">
      <from variable="Nls_Language" xml:id="id_621"/>
      <to variable="InvokePublicationService_UpdatePublicationStatus_InputVariable"
          part="header" query="/ns10:ServiceBean_Header/ns10:NLS_LANGUAGE"
          xml:id="id_622"/>
     </copy>
    </assign>
    </sequence>
   </case>
   <otherwise xml:id="id_623">
    <empty name="Empty_1" xml:id="id_624"/>
   </otherwise>
  </switch>
  <scope name="Scope_GetTargetSystem" xml:id="id_625">
   <sequence name="Sequence_23" xml:id="id_626">
    <assign name="Assign_GetListofTargetSystemsInput" xml:id="id_627">
     <copy xml:id="id_628">
      <from expression="bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE')"
            xml:id="id_629"/>
      <to variable="invokeGetListofTargetSystems_GetBatchSystems_InputVariable" part="body" query="/ns9:PublicationService_GetBatchSystems/batchAndLang/BatchId"
          xml:id="id_630"/>
     </copy>	
    </assign>
    <invoke name="InvokeGetListofTargetSystems" partnerLink="GetListofTargetSystems" portType="ns7:PublicationService_PortType" operation="PublicationService_GetBatchSystems" inputVariable="invokeGetListofTargetSystems_GetBatchSystems_InputVariable" outputVariable="invokeGetListofTargetSystems_GetBatchSystems_OutputVariable"
            xml:id="id_664" bpelx:invokeAsDetail="no">
     <bpelx:inputProperty name="endpointURI" xml:id="id_2272"
                          expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.GetListofTargetSystems.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
    </invoke>
    <assign name="Assign_InitItemSyncWhileLoopCount" xml:id="id_665">
     <copy xml:id="id_666">
      <from expression="0" xml:id="id_667"/>
      <to variable="ItemSyncWhileLoopCount" xml:id="id_668"/>
     </copy>
     <copy xml:id="id_669">
      <from expression="count(bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems/TargetSystem'))"
            xml:id="id_670"/>
      <to variable="NoofTargets" xml:id="id_671"/>
     </copy>
    </assign>
   </sequence>
  </scope>
  <while name="While_2" condition="bpws:getVariableData('ItemSyncWhileLoopFlag') != 'false'"
         xml:id="id_672">
   <bpelx:annotation xml:id="id_673">
    <bpelx:documentation xml:id="id_674">While loop to process items and pricelists</bpelx:documentation>
   </bpelx:annotation>
   <sequence name="Sequence_SyncItemAndPriceList" xml:id="id_675">
    <assign name="Assign_FlowNWhileLoopCountandBatchName" xml:id="id_676">
     <copy xml:id="id_677">
      <from expression="count(bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems/TargetSystem'))"
            xml:id="id_678"/>
      <to variable="NoofTargets" xml:id="id_679"/>
     </copy>
     <copy xml:id="id_680">
      <from expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl','NUMBER_OF_PARALLEL_ITEM_TARGETS',true())"
            xml:id="id_681"/>
      <to variable="NumberofParallelItemTargets" xml:id="id_682"/>
     </copy>
     <copy xml:id="id_683">
      <from expression="ceiling(bpws:getVariableData('NoofTargets') div bpws:getVariableData('NumberofParallelItemTargets'))"
            xml:id="id_684"/>
      <to variable="FlowNWhileLoopCount" xml:id="id_685"/>
     </copy>
     <copy xml:id="id_686">
      <from expression="0" xml:id="id_687"/>
      <to variable="FlowNWhileLoopIndex" xml:id="id_688"/>
     </copy>
     <copy xml:id="id_689">
      <from expression="concat('AIA-',bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE')) "
            xml:id="id_690"/>
      <to variable="BatchId" xml:id="id_691"/>
     </copy>
     <copy xml:id="id_692">
      <from expression="bpws:getVariableData('ItemSyncWhileLoopCount') + 1"
            xml:id="id_693"/>
      <to variable="ItemSyncWhileLoopCount" xml:id="id_694"/>
     </copy>
    </assign>
    <scope name="GetItemInformation" xml:id="id_695">
     <variables xml:id="id_696">
      <variable name="InvokePublicationService_InitStatus_InputVariable" messageType="ns7:PublicationService_UpdatePublicationStatus_InputMessage"
                xml:id="id_697"/>
      <variable name="InvokePublicationService_InitStatus_OutputVariable" messageType="ns7:PublicationService_UpdatePublicationStatus_OutputMessage"
                xml:id="id_698"/>
      <variable name="PublicationInitXSLTParameters" element="bpelcommon:parameters"
                xml:id="id_699"/>
     </variables>
     
     <sequence name="GetIteminformation" xml:id="id_700">
     <switch name="Switch_HeaderExistsInConfig" xml:id="id_701">
   <case condition="bpws:getVariableData('Responsibility_Name') != ''"
         xml:id="id_702">
    <bpelx:annotation xml:id="id_703">
     <bpelx:pattern xml:id="id_704">HeaderExistsInConfig</bpelx:pattern>
     <bpelx:general xml:id="id_705">
      <bpelx:property name="userLabel" xml:id="id_706">HeaderExistsInConfig</bpelx:property>
     </bpelx:general>
    </bpelx:annotation>
    <sequence xml:id="id_707">
                    
    <assign name="AssignHeader" xml:id="id_708">
     <copy xml:id="id_709">
      <from variable="Responsibility_Name" xml:id="id_710"/>
      <to variable="InvokePublicationService_InitStatus_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:RESPONSIBILITY_NAME"
          xml:id="id_711"/>
     </copy>
     <copy xml:id="id_712">
      <from variable="Responsibility_Appl_Name" xml:id="id_713"/>
      <to variable="InvokePublicationService_InitStatus_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:RESPONSIBILITY_APPL_NAME"
          xml:id="id_714"/>
     </copy>
     <copy xml:id="id_715">
      <from variable="Security_Group_Name" xml:id="id_716"/>
      <to variable="InvokePublicationService_InitStatus_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:SECURITY_GROUP_NAME"
          xml:id="id_717"/>
     </copy>
     <copy xml:id="id_718">
      <from variable="Nls_Language" xml:id="id_719"/>
      <to variable="InvokePublicationService_InitStatus_InputVariable"
          part="header" query="/ns10:ServiceBean_Header/ns10:NLS_LANGUAGE"
          xml:id="id_720"/>
     </copy>
     
    </assign>
    </sequence>
   </case>
   <otherwise xml:id="id_721">
    <empty name="Empty_1" xml:id="id_722"/>
   </otherwise>
  </switch>
      <switch name="Switch_SetSessionID" xml:id="id_723">
       <case condition="bpws:getVariableData('QueryItemSessionID') != ''"
             xml:id="id_724">
        <empty name="Empty_2" xml:id="id_725"/>
       </case>
       <otherwise xml:id="id_726">
        <assign name="Assign_SessionID" xml:id="id_727">
         <copy xml:id="id_728">
          <from expression="'NONE'" xml:id="id_729"/>
          <to variable="QueryItemSessionID" xml:id="id_730"/>
         </copy>
        </assign>
       </otherwise>
      </switch>
      <assign name="Assign_SyncItemReqABMtoItemServiceInput" xml:id="id_731">
       <copy xml:id="id_732">
        <from expression="bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE')"
              xml:id="id_733"/>
        <to variable="InvokeItemServiceCallGetItemInformation_InvokeItemService_InputVariable" part="QueryItemListPIMAdapterProcessRequest" query="/ns16:QueryItemListPIMAdapterProcessRequest/ns13:ItemQueryIn/itemQueryParameters/BatchId"
            xml:id="id_734"/>
       </copy>
       <copy xml:id="id_735">
        <from expression="bpws:getVariableData('SystemID')" xml:id="id_736"/>
        <to variable="InvokeItemServiceCallGetItemInformation_InvokeItemService_InputVariable" part="QueryItemListPIMAdapterProcessRequest" query="/ns16:QueryItemListPIMAdapterProcessRequest/ns16:SystemID"
            xml:id="id_737"/>
       </copy>
       <copy xml:id="id_738">
        <from expression="bpws:getVariableData('QueryItemSessionID')"
              xml:id="id_739"/>
        <to variable="InvokeItemServiceCallGetItemInformation_InvokeItemService_InputVariable" part="QueryItemListPIMAdapterProcessRequest" query="/ns16:QueryItemListPIMAdapterProcessRequest/ns16:SessionID"
            xml:id="id_740"/>
       </copy>
       <copy xml:id="id_741">
        <from expression="'QUERY'" xml:id="id_742"/>
        <to variable="InvokeItemServiceCallGetItemInformation_InvokeItemService_InputVariable" part="QueryItemListPIMAdapterProcessRequest" query="/ns16:QueryItemListPIMAdapterProcessRequest/ns16:Mode"
            xml:id="id_743"/>
       </copy>
      </assign>
      <bpelx:exec name="TraceLog_BeforeInvokeItemList" language="java" version="1.3"
                  xml:id="id_744">
       <![CDATA[java.lang.String TraceLogMessage = null;  
	java.lang.Boolean tracelogenabled;   
java.lang.String title = (java.lang.String)getVariableData("Title");          
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");       
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");      
 
tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                   
setVariableData("TraceLogEnabled", tracelogenabled);         
 
if (tracelogenabled.booleanValue())                                                                                 
{                                                                                                                                                                                       
                        
           
   TraceLogMessage = "Starting " + serviceName + " Before ItemListInvolke Instance: " + instanceID + title; ;                          
    
   oracle.xml.parser.v2.XMLElement EBM_HEADER =                                                                         
                                                                               
   (oracle.xml.parser.v2.XMLElement)getVariableData("EBM_HEADER");                                                                                      
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  EBM_HEADER ,TraceLogMessage);  
    
}]]>
      </bpelx:exec>
      <invoke name="InvokeItemListPIMAdapterCallGetItemInformation" partnerLink="QueryItemListPIMAdapter" portType="ns16:QueryItemListPIMAdapterService" operation="InvokeItemService" inputVariable="InvokeItemServiceCallGetItemInformation_InvokeItemService_InputVariable" outputVariable="InvokeItemServiceCallGetItemInformation_InvokeItemService_OutputVariable"
              xml:id="id_778" bpelx:invokeAsDetail="no">
       <bpelx:inputProperty name="endpointURI" xml:id="id_2273"
                            expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.QueryItemListPIMAdapter.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
      </invoke>
      <switch name="Switch_GetItemStatusCheck" xml:id="id_779">
       <case condition="count(bpws:getVariableData('InvokeItemServiceCallGetItemInformation_InvokeItemService_OutputVariable','QueryItemListPIMAdapterProcessResponse','/ns16:QueryItemListPIMAdapterProcessResponse/ns13:ItemQueryOut/listOfItems/Item')) = 0 or bpws:getVariableData('InvokeItemServiceCallGetItemInformation_InvokeItemService_OutputVariable','QueryItemListPIMAdapterProcessResponse','/ns16:QueryItemListPIMAdapterProcessResponse/ns13:ItemQueryOut/listOfItems/Status/Error/Message') !=''"
             xml:id="id_780">
        <sequence name="Sequence_38" xml:id="id_781">
         <assign name="Assign_CreateEnterpriseFaultMessage" xml:id="id_782">
          <copy xml:id="id_783">
           <from variable="InvokeItemServiceCallGetItemInformation_InvokeItemService_OutputVariable" part="QueryItemListPIMAdapterProcessResponse" query="/ns16:QueryItemListPIMAdapterProcessResponse/ns13:ItemQueryOut/listOfItems/Status/Error/Message"
                 xml:id="id_784"/>
           <to variable="EnterpriseFaultMsg" part="AIAFault" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultMessage/corecom:Text"
               xml:id="id_785"/>
          </copy>
          <copy xml:id="id_786">
           <from expression="ora:getInstanceId()" xml:id="id_787"/>
           <to variable="EnterpriseFaultMsg" part="AIAFault" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:InstanceID"
               xml:id="id_788"/>
          </copy>
          <copy xml:id="id_789">
           <from expression="'BPEL'" xml:id="id_790"/>
           <to variable="EnterpriseFaultMsg" part="AIAFault" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:ImplementationCode"
               xml:id="id_791"/>
          </copy>
          <copy xml:id="id_792">
           <from expression="ora:getProcessId()" xml:id="id_793"/>
           <to variable="EnterpriseFaultMsg" part="AIAFault" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:ID"
               xml:id="id_794"/>
          </copy>
         </assign>
         <throw name="ThrowInternalFault" faultName="itemlistabcs:fault" faultVariable="EnterpriseFaultMsg"
                xml:id="id_795"/>
        </sequence>
       </case>
       <otherwise xml:id="id_796">
        <empty name="Empty_15" xml:id="id_797"/>
       </otherwise>
      </switch>
      <bpelx:exec name="TraceLog_AfterInvokeItemList" language="java" version="1.3"
                  xml:id="id_798">
       <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled;  
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     
tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                  
setVariableData("TraceLogEnabled", tracelogenabled);        

if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " After ItemListInvolke: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
      </bpelx:exec>
      <bpelx:exec name="TraceLog_BeforeItemListEBMReqMsgTransform" language="java" version="1.3"
                  xml:id="id_799">
       <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled;  
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     

tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                  
setVariableData("TraceLogEnabled", tracelogenabled);        

if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Before ItemListEBMReqMsg Transform Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
      </bpelx:exec>
      <assign name="AssignPrepareXSLTParameters" xml:id="id_800">
       <copy xml:id="id_801">
        <from xml:id="id_802">
         <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                                xml:id="id_803">
          <bpelcommon:item xml:id="id_804">
           <bpelcommon:name xml:id="id_805">SystemID</bpelcommon:name>
           <bpelcommon:value xml:id="id_806"/>
          </bpelcommon:item>
          <bpelcommon:item xml:id="id_807">
           <bpelcommon:name xml:id="id_808">BatchID</bpelcommon:name>
           <bpelcommon:value xml:id="id_809"/>
          </bpelcommon:item>
          <bpelcommon:item xml:id="id_810">
           <bpelcommon:name xml:id="id_811">WorkpaceName</bpelcommon:name>
           <bpelcommon:value xml:id="id_812"/>
          </bpelcommon:item>
          <bpelcommon:item xml:id="id_813">
           <bpelcommon:name xml:id="id_814">AutoRelase</bpelcommon:name>
           <bpelcommon:value xml:id="id_815"/>
          </bpelcommon:item>
         </bpelcommon:parameters>
        </from>
        <to variable="XSLTParameters" query="/bpelcommon:parameters"
            xml:id="id_816"/>
       </copy>
       <copy xml:id="id_817">
        <from expression="bpws:getVariableData('SystemID')" xml:id="id_818"/>
        <to variable="XSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SystemID']/bpelcommon:value"
            xml:id="id_819"/>
       </copy>
       <copy xml:id="id_820">
        <from expression="bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE')"
              xml:id="id_821"/>
        <to variable="XSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BatchID']/bpelcommon:value"
            xml:id="id_822"/>
       </copy>
       <copy xml:id="id_823">
        <from expression="bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;Workspace Name&quot;]/VALUE')"
              xml:id="id_824"/>
        <to variable="XSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='WorkpaceName']/bpelcommon:value"
            xml:id="id_825"/>
       </copy>
       <copy xml:id="id_826">
        <from expression="bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;Auto-Release&quot;]/VALUE')"
              xml:id="id_827"/>
        <to variable="XSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='AutoRelase']/bpelcommon:value"
            xml:id="id_828"/>
       </copy>
      </assign>
      <assign name="AssignPrepareInitPublicationXSLTParameters" xml:id="id_829">
       <copy xml:id="id_830">
        <from xml:id="id_831">
         <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                                xml:id="id_832">
          <bpelcommon:item xml:id="id_833">
           <bpelcommon:name xml:id="id_834">ListofTargetSystems</bpelcommon:name>
           <bpelcommon:value xml:id="id_835"/>
          </bpelcommon:item>
          <bpelcommon:item xml:id="id_836">
           <bpelcommon:name xml:id="id_837">BatchID</bpelcommon:name>
           <bpelcommon:value xml:id="id_838"/>
          </bpelcommon:item>
         </bpelcommon:parameters>
        </from>
        <to variable="PublicationInitXSLTParameters" query="/bpelcommon:parameters"
            xml:id="id_839"/>
       </copy>
       <copy xml:id="id_840">
        <from expression="ora:getContentAsString(bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems'))"
              xml:id="id_841"/>
        <to variable="PublicationInitXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ListofTargetSystems']/bpelcommon:value"
            xml:id="id_842"/>
       </copy>
       <copy xml:id="id_843">
        <from expression="bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE')"
              xml:id="id_844"/>
        <to variable="PublicationInitXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BatchID']/bpelcommon:value"
            xml:id="id_845"/>
       </copy>
      </assign>
      <scope name="Extn_Invoke_PreXformABMtoEBM" xml:id="id_2244"
             variableAccessSerializable="no" bpelx:skipCondition="aia:getServiceProperty(bpws:getVariableData('ServiceName'),'ABCSExtension.PreXformABMtoEBMItemListABM',false())!='true'"
             ui:customizable="true">
       <sequence name="Sequence_24" xml:id="id_848">
        <assign name="Assign_ABM" xml:id="id_849">
         <copy xml:id="id_850">
          <from variable="InvokeItemServiceCallGetItemInformation_InvokeItemService_OutputVariable"
                part="QueryItemListPIMAdapterProcessResponse"
                query="/ns16:QueryItemListPIMAdapterProcessResponse"
                xml:id="id_851"/>
          <to variable="PreXformABMtoEBMItemListABMMsg_InputVar"
              part="QueryItemListPIMAdapterProcessResponse"
              query="/ns16:QueryItemListPIMAdapterProcessResponse"
              xml:id="id_852"/>
         </copy>
        </assign>
        <invoke name="Invoke_PreXformABMtoEBMItemList"
                partnerLink="SyncItemListPIMReqABCSImplExtension"
                portType="tns:SyncItemListPIMReqABCSImplExtensionService"
                operation="PreXformABMtoEBMItemListABM"
                inputVariable="PreXformABMtoEBMItemListABMMsg_InputVar"
                outputVariable="PreXformABMtoEBMItemListABMMsg_OutputVar"
                xml:id="id_853"/>
        <assign name="Assign_ABM" xml:id="id_854">
         <copy xml:id="id_855">
          <from variable="PreXformABMtoEBMItemListABMMsg_OutputVar"
                part="QueryItemListPIMAdapterProcessResponse"
                query="/ns16:QueryItemListPIMAdapterProcessResponse"
                xml:id="id_856"/>
          <to variable="InvokeItemServiceCallGetItemInformation_InvokeItemService_OutputVariable"
              part="QueryItemListPIMAdapterProcessResponse"
              query="/ns16:QueryItemListPIMAdapterProcessResponse"
              xml:id="id_857"/>
         </copy>
        </assign>
       </sequence>
      </scope>      
      <assign name="XformQueryItemListResponseABMToPublicationServiceABM"
              xml:id="id_860">
       <copy xml:id="id_861">
        <from expression="ora:processXSLT('xsl/XformQueryItemListResponseABMToPublicationServiceABM.xsl',bpws:getVariableData('InvokeItemServiceCallGetItemInformation_InvokeItemService_OutputVariable','QueryItemListPIMAdapterProcessResponse'),bpws:getVariableData('PublicationInitXSLTParameters'))"
              xml:id="id_862"/>
        <to variable="InvokePublicationService_InitStatus_InputVariable" part="body"
            xml:id="id_863"/>
       </copy>
      </assign>
      <invoke name="InvokePublicationServiceInitItemStatus" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_InitStatus_InputVariable" outputVariable="InvokePublicationService_InitStatus_OutputVariable"
              xml:id="id_897" bpelx:invokeAsDetail="no">
       <bpelx:inputProperty name="endpointURI" xml:id="id_2274"
                            expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
      </invoke>
      <assign name="XformItemResponsePIMABMToSyncItemListEBM" xml:id="id_898">
       <copy xml:id="id_899">
        <from expression="ora:processXSLT('xsl/XformItemResponsePIMABMToSyncItemListEBM.xsl',bpws:getVariableData('InvokeItemServiceCallGetItemInformation_InvokeItemService_OutputVariable','QueryItemListPIMAdapterProcessResponse'),bpws:getVariableData('XSLTParameters'))"
              xml:id="id_900"/>
        <to variable="syncItemListEBM" part="SyncItemListEBM" xml:id="id_901"/>
       </copy>
       <copy xml:id="id_902">
        <from variable="InvokeItemServiceCallGetItemInformation_InvokeItemService_OutputVariable" part="QueryItemListPIMAdapterProcessResponse" query="/ns16:QueryItemListPIMAdapterProcessResponse/ns16:SessionID"
              xml:id="id_903"/>
        <to variable="QueryItemSessionID" xml:id="id_904"/>
       </copy>
       <copy xml:id="id_905">
        <from variable="InvokeItemServiceCallGetItemInformation_InvokeItemService_OutputVariable" part="QueryItemListPIMAdapterProcessResponse" query="/ns16:QueryItemListPIMAdapterProcessResponse/ns16:ContinueFlag"
              xml:id="id_906"/>
        <to variable="ItemSyncWhileLoopFlag" xml:id="id_907"/>
       </copy>
      </assign>
      <assign name="AssignRestructureSyncItemListEBM" xml:id="id_908">
       <copy xml:id="id_909">
        <from expression="ora:processXSLT('xsl/XformRestructureSyncItemListEBM.xsl',bpws:getVariableData('syncItemListEBM','SyncItemListEBM','/coreitem:SyncItemListEBM'))"
              xml:id="id_910"/>
        <to variable="syncItemListEBM" part="SyncItemListEBM" query="/coreitem:SyncItemListEBM"
            xml:id="id_911"/>
       </copy>
      </assign>
      <assign name="XfromListOfItemsToSyncPriceListListEBM" xml:id="id_912">
       <copy xml:id="id_913">
        <from expression="ora:processXSLT('xsl/XfromListOfItemsToSyncPriceListListEBM.xsl',bpws:getVariableData('InvokeItemServiceCallGetItemInformation_InvokeItemService_OutputVariable','QueryItemListPIMAdapterProcessResponse'),bpws:getVariableData('XSLTParameters'))"
              xml:id="id_914"/>
        <to variable="syncPriceListListEBM" part="SyncPriceListListEBM"
            xml:id="id_915"/>
       </copy>
      </assign>
      <assign name="Assign_EBMHeader" xml:id="id_916">
       <copy xml:id="id_917">
        <from variable="syncItemListEBM" part="SyncItemListEBM" query="/coreitem:SyncItemListEBM"
              xml:id="id_918"/>
        <to variable="EBM_HEADER" query="/corecom:EBMHeader" xml:id="id_919"/>
       </copy>
      </assign>
      <bpelx:exec name="TraceLog_AfterItemListEBMReqMsgTransform" language="java" version="1.3"
                  xml:id="id_920">
       <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled;  
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     

tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                  
setVariableData("TraceLogEnabled", tracelogenabled);        

if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " After ItemListEBMReqMsg Transform Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
      </bpelx:exec>
     </sequence>
    </scope>
    <while name="While_1" condition="bpws:getVariableData('FlowNWhileLoopIndex') &lt; bpws:getVariableData('FlowNWhileLoopCount')"
           xml:id="id_921">
     <sequence name="Sequence_SyncItemAndPriceList" xml:id="id_922">
      <assign name="Assign_FlowNWhileLoopIndex" xml:id="id_923">
       <copy xml:id="id_924">
        <from expression="bpws:getVariableData('FlowNWhileLoopIndex') + 1 "
              xml:id="id_925"/>
        <to variable="FlowNWhileLoopIndex" xml:id="id_926"/>
       </copy>
      </assign>
      <switch name="Switch_FlowNBranchCount" xml:id="id_927">
       <case condition="bpws:getVariableData('NoofTargets') > bpws:getVariableData('NumberofParallelItemTargets')"
             xml:id="id_928">
        <assign name="Assign_NumberofParallelTargetstoFlowNLoopCount"
                xml:id="id_929">
         <copy xml:id="id_930">
          <from variable="NumberofParallelItemTargets" xml:id="id_931"/>
          <to variable="FlowNLoopCount" xml:id="id_932"/>
         </copy>
         <copy xml:id="id_933">
          <from expression="bpws:getVariableData('NoofTargets') - bpws:getVariableData('NumberofParallelItemTargets')"
                xml:id="id_934"/>
          <to variable="NoofTargets" xml:id="id_935"/>
         </copy>
        </assign>
       </case>
       <otherwise xml:id="id_936">
        <assign name="Assign_NoofRemainingTargetstoFlowNLoopCount"
                xml:id="id_937">
         <copy xml:id="id_938">
          <from variable="NoofTargets" xml:id="id_939"/>
          <to variable="FlowNLoopCount" xml:id="id_940"/>
         </copy>
        </assign>
       </otherwise>
      </switch>
      <bpelx:flowN name="SyncItemFlowN" N="bpws:getVariableData('FlowNLoopCount')" indexVariable="SyncItemFlowNIndex"
                   xml:id="id_941">
       <scope name="SyncItemandPriceList" xml:id="id_942">
        <variables xml:id="id_943">
         <variable name="syncPriceListListReqMsg" messageType="ns4:SyncPriceListListReqMsg"
                   xml:id="id_944"/>
         <variable name="syncItemListEBSReqMsg" messageType="itemebs:SyncItemListReqMsg"
                   xml:id="id_945"/>
         <variable name="receiveSyncItemListResponse_InputVariable" messageType="itemlistabcs:SyncItemListResMsg"
                   xml:id="id_946"/>
         <variable name="receiveSyncPriceListResponse_InputVariable" messageType="itemlistabcs:SyncPriceListListResMsg"
                   xml:id="id_947"/>
         <variable name="InvokePublicationService_InputVariable" messageType="ns7:PublicationService_UpdatePublicationStatus_InputMessage"
                   xml:id="id_948"/>
         <variable name="InvokePublicationService_OutputVariable" messageType="ns7:PublicationService_UpdatePublicationStatus_OutputMessage"
                   xml:id="id_949"/>
         <variable name="WorkFlowReleaseFlag" type="xsd:string"
                   xml:id="id_950"/>
         <variable name="TempItemPublicationStatus" type="xsd:string"
                   xml:id="id_951"/>
         <variable name="TempPriceListPublicationStatus" type="xsd:string"
                   xml:id="id_952"/>
         <variable name="TempBOMPublicationStatus" type="xsd:string"
                   xml:id="id_953"/>
         <variable name="TempProcessPriceListFlag" type="xsd:boolean"
                   xml:id="id_954"/>
         <variable name="TempProcessBOMFlag" type="xsd:boolean"
                   xml:id="id_955"/>
         <variable name="TempProcessItemStatus" type="xsd:string"
                   xml:id="id_956"/>
         <variable name="SyncItemFlowNErrorXSLTParameters" element="bpelcommon:parameters"
                   xml:id="id_957"/>
         <variable name="ProcessedTargetName" messageType="itemlistabcs:TargetEntityStatusArrayMsg"
                   xml:id="id_958"/>
         <variable name="SyncItemPriceListXSLTParams" element="bpelcommon:parameters"
                   xml:id="id_959"/>
         <variable name="BatchIDTemp" type="xsd:string" xml:id="id_960"/>
         <variable name="EnterpriseFaultMsg" messageType="itemlistabcs:FaultMsg"
                   xml:id="id_961"/>
         <variable name="PreInvokeItemListEBSSyncItemListEBMMsg_InputVar" messageType="tns:PreInvokeItemListEBSSyncItemListEBMMsg"
                   xml:id="id_962"/>
         <variable name="PreInvokeItemListEBSSyncItemListEBMMsg_OutputVar" messageType="tns:PreInvokeItemListEBSSyncItemListEBMMsg"
                   xml:id="id_963"/>
         <variable name="PostXformEBMtoABMItemListEBMMsg_InputVar" messageType="tns:PostXformEBMtoABMItemListEBMMsg"
                   xml:id="id_964"/>
         <variable name="PostXformEBMtoABMItemListEBMMsg_OutputVar" messageType="tns:PostXformEBMtoABMItemListEBMMsg"
                   xml:id="id_965"/>
         <variable name="PreInvokePublicationServiceItemListEBMMsg_InputVar" messageType="tns:PreInvokePublicationServiceItemListEBMMsg"
                   xml:id="id_966"/>
         <variable name="PreInvokePublicationServiceItemListEBMMsg_OutputVar" messageType="tns:PreInvokePublicationServiceItemListEBMMsg"
                   xml:id="id_967"/>
         <variable name="PreInvokePriceListEBSSyncItemListEBMMsg_InputVar" messageType="tns:PreInvokePriceListEBSSyncItemListEBMMsg"
                   xml:id="id_968"/>
         <variable name="PreInvokePriceListEBSSyncItemListEBMMsg_OutputVar" messageType="tns:PreInvokePriceListEBSSyncItemListEBMMsg"
                   xml:id="id_969"/>
         <variable name="PostXformEBMtoABMPriceListEBMMsg_InputVar" messageType="tns:PostXformEBMtoABMPriceListEBMMsg"
                   xml:id="id_970"/>
         <variable name="PostXformEBMtoABMPriceListEBMMsg_OutputVar" messageType="tns:PostXformEBMtoABMPriceListEBMMsg"
                   xml:id="id_971"/>
         <variable name="PreInvokePublicationServicePriceListEBMMsg_InputVar" messageType="tns:PreInvokePublicationServicePriceListEBMMsg"
                   xml:id="id_972"/>
         <variable name="PreInvokePublicationServicePriceListEBMMsg_OutputVar" messageType="tns:PreInvokePublicationServicePriceListEBMMsg"
                   xml:id="id_973"/>
         <variable name="syncItemListEBSFilteredReqMsg" messageType="itemebs:SyncItemListReqMsg"
                   xml:id="id_974"/>
         <variable name="syncPriceListListFilteredReqMsg" messageType="ns4:SyncPriceListListReqMsg"
                   xml:id="id_975"/>
        </variables>
        <correlationSets xml:id="id_976">
         <correlationSet name="CorrelationSet_ItemSet" properties="ns8:syncItemListEBSReqMsg_SyncItemListEBM_EBMID_prop"
                         xml:id="id_977"/>
         <correlationSet name="CorrelationSet_PriceListSet1" properties="ns8:syncPriceListListReqMsg_SyncPriceListListEBM_EBMID_prop"
                         xml:id="id_978"/>
        </correlationSets>
        <!-- FlowN Error Handling  -->
        <faultHandlers xml:id="id_979">
         <catch faultName="bpelx:remoteFault" faultVariable="RuntimeFaultMessage"
                xml:id="id_980">
          <sequence name="Sequence_RemoteFault" xml:id="id_981">
           <bpelx:exec name="TraceLog_BeginRemoteFaultCatch" language="java" version="1.3"
                       xml:id="id_982">
            <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Entering Error Hanlder Remote Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
           </bpelx:exec>
           <assign name="Assign_FlowNErrorXSLParam" xml:id="id_983">
            <copy xml:id="id_984">
             <from expression="'Fault'" xml:id="id_985"/>
             <to variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:EntrySyncStatus"
                 xml:id="id_986"/>
            </copy>
            <copy xml:id="id_987">
             <from xml:id="id_988">
              <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                                     xml:id="id_989">
               <bpelcommon:item xml:id="id_990">
                <bpelcommon:name xml:id="id_991">BATCHID</bpelcommon:name>
                <bpelcommon:value xml:id="id_992"/>
               </bpelcommon:item>
               <bpelcommon:item xml:id="id_993">
                <bpelcommon:name xml:id="id_994">ERRORSUMMARY</bpelcommon:name>
                <bpelcommon:value xml:id="id_995"/>
               </bpelcommon:item>
               <bpelcommon:item xml:id="id_996">
                <bpelcommon:name xml:id="id_997">SYSTEMCODE</bpelcommon:name>
                <bpelcommon:value xml:id="id_998"/>
               </bpelcommon:item>
              </bpelcommon:parameters>
             </from>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters"
                 xml:id="id_999"/>
            </copy>
            <copy xml:id="id_1000">
             <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
                   xml:id="id_1001"/>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BATCHID']/bpelcommon:value"
                 xml:id="id_1002"/>
            </copy>
            <copy xml:id="id_1003">
             <from variable="RuntimeFaultMessage" part="summary"
                   xml:id="id_1004"/>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ERRORSUMMARY']/bpelcommon:value"
                 xml:id="id_1005"/>
            </copy>
            <copy xml:id="id_1006">
             <from expression="bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems/TargetSystem[bpws:getVariableData(&quot;ProcessedTargetIndex&quot;)]/SystemCode')"
                   xml:id="id_1007"/>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SYSTEMCODE']/bpelcommon:value"
                 xml:id="id_1008"/>
            </copy>
           </assign>
           <assign name="XformItemSyncFlowNErrorMessagetoPublicationServiceInput"
                   xml:id="id_1009">
            <copy xml:id="id_1010">
             <from expression="ora:processXSLT('xsl/XformItemSyncFlowNErrorMessagetoPublicationServiceInput.xsl',bpws:getVariableData('syncItemListEBM','SyncItemListEBM'),bpws:getVariableData('SyncItemFlowNErrorXSLTParameters'))"
                   xml:id="id_1011"/>
             <to variable="InvokePublicationService_InputVariable" part="body"
                 xml:id="id_1012"/>
            </copy>
           </assign>
           <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_InputVariable" outputVariable="InvokePublicationService_OutputVariable"
                   xml:id="id_1046" bpelx:invokeAsDetail="no">
            <bpelx:inputProperty name="endpointURI" xml:id="id_2275"
                                 expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
           </invoke>
           <assign name="Assign_ConstructTargetStatusArrayAppend"
                   xml:id="id_1047">
            <extensibleAssign xml:id="id_1048">
             <bpelx:insertAfter xml:id="id_1049">
              <bpelx:from variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus"
                          xml:id="id_1050"/>
              <bpelx:to variable="TargetEntityStatusVar" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus"
                        xml:id="id_1051"/>
             </bpelx:insertAfter>
            </extensibleAssign>
           </assign>
           <bpelx:exec name="TraceLog_EndRemoteFaultCatch" language="java" version="1.3"
                       xml:id="id_1052">
            <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Exiting Error Hanlder Remote Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
           </bpelx:exec>
          </sequence>
         </catch>
         <catch faultName="bpelx:bindingFault" faultVariable="RuntimeFaultMessage"
                xml:id="id_1053">
          <sequence name="Sequence_BindingFault" xml:id="id_1054">
           <bpelx:exec name="TraceLog_BeginBindingFaultCatch" language="java" version="1.3"
                       xml:id="id_1055">
            <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Entering Error Hanlder Binding Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
           </bpelx:exec>
           <assign name="Assign_FlowNErrorXSLParam" xml:id="id_1056">
            <copy xml:id="id_1057">
             <from expression="'Fault'" xml:id="id_1058"/>
             <to variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:EntrySyncStatus"
                 xml:id="id_1059"/>
            </copy>
            <copy xml:id="id_1060">
             <from xml:id="id_1061">
              <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                                     xml:id="id_1062">
               <bpelcommon:item xml:id="id_1063">
                <bpelcommon:name xml:id="id_1064">BATCHID</bpelcommon:name>
                <bpelcommon:value xml:id="id_1065"/>
               </bpelcommon:item>
               <bpelcommon:item xml:id="id_1066">
                <bpelcommon:name xml:id="id_1067">ERRORSUMMARY</bpelcommon:name>
                <bpelcommon:value xml:id="id_1068"/>
               </bpelcommon:item>
               <bpelcommon:item xml:id="id_1069">
                <bpelcommon:name xml:id="id_1070">SYSTEMCODE</bpelcommon:name>
                <bpelcommon:value xml:id="id_1071"/>
               </bpelcommon:item>
              </bpelcommon:parameters>
             </from>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters"
                 xml:id="id_1072"/>
            </copy>
            <copy xml:id="id_1073">
             <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
                   xml:id="id_1074"/>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BATCHID']/bpelcommon:value"
                 xml:id="id_1075"/>
            </copy>
            <copy xml:id="id_1076">
             <from variable="RuntimeFaultMessage" part="summary"
                   xml:id="id_1077"/>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ERRORSUMMARY']/bpelcommon:value"
                 xml:id="id_1078"/>
            </copy>
            <copy xml:id="id_1079">
             <from expression="bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems/TargetSystem[bpws:getVariableData(&quot;ProcessedTargetIndex&quot;)]/SystemCode')"
                   xml:id="id_1080"/>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SYSTEMCODE']/bpelcommon:value"
                 xml:id="id_1081"/>
            </copy>
           </assign>
           <assign name="XformItemSyncFlowNErrorMessagetoPublicationServiceInput"
                   xml:id="id_1082">
            <copy xml:id="id_1083">
             <from expression="ora:processXSLT('xsl/XformItemSyncFlowNErrorMessagetoPublicationServiceInput.xsl',bpws:getVariableData('syncItemListEBM','SyncItemListEBM'),bpws:getVariableData('SyncItemFlowNErrorXSLTParameters'))"
                   xml:id="id_1084"/>
             <to variable="InvokePublicationService_InputVariable" part="body"
                 xml:id="id_1085"/>
            </copy>
           </assign>
           <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_InputVariable" outputVariable="InvokePublicationService_OutputVariable"
                   xml:id="id_1119" bpelx:invokeAsDetail="no">
            <bpelx:inputProperty name="endpointURI" xml:id="id_2276"
                                 expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
           </invoke>
           <assign name="Assign_ConstructTargetStatusArrayAppend"
                   xml:id="id_1120">
            <extensibleAssign xml:id="id_1121">
             <bpelx:insertAfter xml:id="id_1122">
              <bpelx:from variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus"
                          xml:id="id_1123"/>
              <bpelx:to variable="TargetEntityStatusVar" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus"
                        xml:id="id_1124"/>
             </bpelx:insertAfter>
            </extensibleAssign>
           </assign>
           <bpelx:exec name="TraceLog_EndBindingFaultCatch" language="java" version="1.3"
                       xml:id="id_1125">
            <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Exiting Error Hanlder Binding Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
           </bpelx:exec>
          </sequence>
         </catch>
         <catch faultName="tns:fault" faultVariable="ExtensionFaultVar"
                xml:id="id_1126">
          <sequence name="Sequence_ExtentionFault" xml:id="id_1127">
           <bpelx:exec name="TraceLog_BeginExtensionFaultCatch" language="java" version="1.3"
                       xml:id="id_1128">
            <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Entering Error Hanlder Extension Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
           </bpelx:exec>
           <assign name="AssignPublicationPublicationServiceInput"
                   xml:id="id_1129">
            <copy xml:id="id_1130">
             <from expression="'Fault'" xml:id="id_1131"/>
             <to variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:EntrySyncStatus"
                 xml:id="id_1132"/>
            </copy>
            <copy xml:id="id_1133">
             <from xml:id="id_1134">
              <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                                     xml:id="id_1135">
               <bpelcommon:item xml:id="id_1136">
                <bpelcommon:name xml:id="id_1137">MODE</bpelcommon:name>
                <bpelcommon:value xml:id="id_1138"/>
               </bpelcommon:item>
               <bpelcommon:item xml:id="id_1139">
                <bpelcommon:name xml:id="id_1140">BATCHID</bpelcommon:name>
                <bpelcommon:value xml:id="id_1141"/>
               </bpelcommon:item>
               <bpelcommon:item xml:id="id_1142">
                <bpelcommon:name xml:id="id_1143">ERRORSUMMARY</bpelcommon:name>
                <bpelcommon:value xml:id="id_1144"/>
               </bpelcommon:item>
               <bpelcommon:item xml:id="id_1145">
                <bpelcommon:name xml:id="id_1146">SYSTEMCODE</bpelcommon:name>
                <bpelcommon:value xml:id="id_1147"/>
               </bpelcommon:item>
              </bpelcommon:parameters>
             </from>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters"
                 xml:id="id_1148"/>
            </copy>
            <copy xml:id="id_1149">
             <from expression="'2'" xml:id="id_1150"/>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='MODE']/bpelcommon:value"
                 xml:id="id_1151"/>
            </copy>
            <copy xml:id="id_1152">
             <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
                   xml:id="id_1153"/>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BATCHID']/bpelcommon:value"
                 xml:id="id_1154"/>
            </copy>
            <copy xml:id="id_1155">
             <from variable="RuntimeFaultMessage" part="summary"
                   xml:id="id_1156"/>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ERRORSUMMARY']/bpelcommon:value"
                 xml:id="id_1157"/>
            </copy>
            <copy xml:id="id_1158">
             <from expression="bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems/TargetSystem[bpws:getVariableData(&quot;ProcessedTargetIndex&quot;)]/SystemCode')"
                   xml:id="id_1159"/>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SYSTEMCODE']/bpelcommon:value"
                 xml:id="id_1160"/>
            </copy>
           </assign>
           <assign name="XformErrorMessagetoPublicationServiceInput"
                   xml:id="id_1161">
            <bpelx:annotation xml:id="id_1162">
             <bpelx:pattern xml:id="id_1163">transformation</bpelx:pattern>
            </bpelx:annotation>
            <copy xml:id="id_1164">
             <from expression="ora:processXSLT('xsl/XformItemSyncFlowNErrorMessagetoPublicationServiceInput.xsl',bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body'),bpws:getVariableData('SyncItemFlowNErrorXSLTParameters'))"
                   xml:id="id_1165"/>
             <to variable="InvokePublicationService_InputVariable" part="body"
                 xml:id="id_1166"/>
            </copy>
           </assign>
           <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_InputVariable" outputVariable="InvokePublicationService_OutputVariable"
                   xml:id="id_1200" bpelx:invokeAsDetail="no">
            <bpelx:inputProperty name="endpointURI" xml:id="id_2277"
                                 expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
           </invoke>
           <assign name="Assign_ConstructTargetStatusArrayAppend"
                   xml:id="id_1201">
            <extensibleAssign xml:id="id_1202">
             <bpelx:insertAfter xml:id="id_1203">
              <bpelx:from variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus"
                          xml:id="id_1204"/>
              <bpelx:to variable="TargetEntityStatusVar" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus"
                        xml:id="id_1205"/>
             </bpelx:insertAfter>
            </extensibleAssign>
           </assign>
           <bpelx:exec name="TraceLog_EndExtensionFaultCatch" language="java" version="1.3"
                       xml:id="id_1206">
            <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Exiting Error Hanlder Extension Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
           </bpelx:exec>
          </sequence>
         </catch>
         <catchAll xml:id="id_1207">
          <sequence name="Sequence_CatchAll" xml:id="id_1208">
           <bpelx:exec name="TraceLog_BeginCatchAll" language="java" version="1.3"
                       xml:id="id_1209">
            <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Entering Error Hanlder Catch All Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
           </bpelx:exec>
           <assign name="Assign_AIAAsyncErrorHandlingBPELProcessRequestMessage"
                   xml:id="id_1210">
            <copy xml:id="id_1211">
             <from expression="ora:getFaultAsString()" xml:id="id_1212"/>
             <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultMessage/corecom:Text"
                 xml:id="id_1213"/>
            </copy>
            <copy xml:id="id_1214">
             <from expression="xp20:current-dateTime()" xml:id="id_1215"/>
             <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:ReportingDateTime"
                 xml:id="id_1216"/>
            </copy>
            <copy xml:id="id_1217">
             <from expression="ora:getProcessId()" xml:id="id_1218"/>
             <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:ID"
                 xml:id="id_1219"/>
            </copy>
            <copy xml:id="id_1220">
             <from expression="'BPEL'" xml:id="id_1221"/>
             <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:ImplementationCode"
                 xml:id="id_1222"/>
            </copy>
            <copy xml:id="id_1223">
             <from expression="ora:getInstanceId()" xml:id="id_1224"/>
             <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:InstanceID"
                 xml:id="id_1225"/>
            </copy>
           </assign>
           <invoke name="Invoke_AIAAsyncErrorHandlingBPELProcess" partnerLink="AIAAsyncErrorHandlingBPELProcess" portType="aiaeh:AIAAsyncErrorHandlingBPELProcess" operation="initiate" inputVariable="AIAAsyncErrorHandlingBPELProcessRequestMessage"
                   xml:id="id_1226"/>
           <assign name="Assign_FlowNErrorXSLParam" xml:id="id_1227">
            <copy xml:id="id_1228">
             <from expression="'Fault'" xml:id="id_1229"/>
             <to variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:EntrySyncStatus"
                 xml:id="id_1230"/>
            </copy>
            <copy xml:id="id_1231">
             <from xml:id="id_1232">
              <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                                     xml:id="id_1233">
               <bpelcommon:item xml:id="id_1234">
                <bpelcommon:name xml:id="id_1235">BATCHID</bpelcommon:name>
                <bpelcommon:value xml:id="id_1236"/>
               </bpelcommon:item>
               <bpelcommon:item xml:id="id_1237">
                <bpelcommon:name xml:id="id_1238">ERRORSUMMARY</bpelcommon:name>
                <bpelcommon:value xml:id="id_1239"/>
               </bpelcommon:item>
               <bpelcommon:item xml:id="id_1240">
                <bpelcommon:name xml:id="id_1241">SYSTEMCODE</bpelcommon:name>
                <bpelcommon:value xml:id="id_1242"/>
               </bpelcommon:item>
              </bpelcommon:parameters>
             </from>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters"
                 xml:id="id_1243"/>
            </copy>
            <copy xml:id="id_1244">
             <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
                   xml:id="id_1245"/>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BATCHID']/bpelcommon:value"
                 xml:id="id_1246"/>
            </copy>
            <copy xml:id="id_1247">
             <from variable="RuntimeFaultMessage" part="summary"
                   xml:id="id_1248"/>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ERRORSUMMARY']/bpelcommon:value"
                 xml:id="id_1249"/>
            </copy>
            <copy xml:id="id_1250">
             <from expression="bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems/TargetSystem[bpws:getVariableData(&quot;ProcessedTargetIndex&quot;)]/SystemCode')"
                   xml:id="id_1251"/>
             <to variable="SyncItemFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SYSTEMCODE']/bpelcommon:value"
                 xml:id="id_1252"/>
            </copy>
           </assign>
           <assign name="XformItemSyncFlowNErrorMessagetoPublicationServiceInput"
                   xml:id="id_1253">
            <copy xml:id="id_1254">
             <from expression="ora:processXSLT('xsl/XformItemSyncFlowNErrorMessagetoPublicationServiceInput.xsl',bpws:getVariableData('syncItemListEBM','SyncItemListEBM'),bpws:getVariableData('SyncItemFlowNErrorXSLTParameters'))"
                   xml:id="id_1255"/>
             <to variable="InvokePublicationService_InputVariable" part="body"
                 xml:id="id_1256"/>
            </copy>
           </assign>
           <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_InputVariable" outputVariable="InvokePublicationService_OutputVariable"
                   xml:id="id_1290" bpelx:invokeAsDetail="no">
            <bpelx:inputProperty name="endpointURI" xml:id="id_2278"
                                 expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
           </invoke>
           <bpelx:exec name="TraceLog_EndCatchAll" language="java" version="1.3"
                       xml:id="id_1291">
            <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Exiting Error Hanlder Catch All Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
           </bpelx:exec>
          </sequence>
         </catchAll>
        </faultHandlers>
        <!-- End FlowN Error Handling  -->
        <sequence name="SyncItemList" xml:id="id_1292">
        <switch name="Switch_HeaderExistsInConfig" xml:id="id_1293">
   <case condition="bpws:getVariableData('Responsibility_Name') != ''"
         xml:id="id_1294">
    <bpelx:annotation xml:id="id_1295">
     <bpelx:pattern xml:id="id_1296">HeaderExistsInConfig</bpelx:pattern>
     <bpelx:general xml:id="id_1297">
      <bpelx:property name="userLabel" xml:id="id_1298">HeaderExistsInConfig</bpelx:property>
     </bpelx:general>
    </bpelx:annotation>
    <sequence xml:id="id_1299">
                    
    <assign name="AssignHeader" xml:id="id_1300">
     <copy xml:id="id_1301">
      <from variable="Responsibility_Name" xml:id="id_1302"/>
      <to variable="InvokePublicationService_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:RESPONSIBILITY_NAME"
          xml:id="id_1303"/>
     </copy>
     <copy xml:id="id_1304">
      <from variable="Responsibility_Appl_Name" xml:id="id_1305"/>
      <to variable="InvokePublicationService_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:RESPONSIBILITY_APPL_NAME"
          xml:id="id_1306"/>
     </copy>
     <copy xml:id="id_1307">
      <from variable="Security_Group_Name" xml:id="id_1308"/>
      <to variable="InvokePublicationService_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:SECURITY_GROUP_NAME"
          xml:id="id_1309"/>
     </copy>
     <copy xml:id="id_1310">
      <from variable="Nls_Language" xml:id="id_1311"/>
      <to variable="InvokePublicationService_InputVariable"
          part="header" query="/ns10:ServiceBean_Header/ns10:NLS_LANGUAGE"
          xml:id="id_1312"/>
     </copy>
     
    </assign>
    </sequence>
   </case>
   <otherwise xml:id="id_1313">
    <empty name="Empty_1" xml:id="id_1314"/>
   </otherwise>
  </switch>
         <assign name="Assign_ProcessedTargetName" xml:id="id_1315">
          <copy xml:id="id_1316">
           <from expression="bpws:getVariableData('SyncItemFlowNIndex') + ( bpws:getVariableData('NumberofParallelItemTargets') * (bpws:getVariableData('FlowNWhileLoopIndex') - 1))"
                 xml:id="id_1317"/>
           <to variable="ProcessedTargetIndex" xml:id="id_1318"/>
          </copy>
          <copy xml:id="id_1319">
           <from expression="dvm:lookupValue('oramds:/apps/AIAMetaData/dvm/TARGET_ID.dvm','PIM_01',bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems/TargetSystem[bpws:getVariableData(&quot;ProcessedTargetIndex&quot;)]/SystemCode'),'COMMON',bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems/TargetSystem[bpws:getVariableData(&quot;ProcessedTargetIndex&quot;)]/SystemCode'))"
                 xml:id="id_1320"/>
           <to variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:TargetName"
               xml:id="id_1321"/>
          </copy>
          <copy xml:id="id_1322">
           <from expression="string(bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE'))"
                 xml:id="id_1323"/>
           <to variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:BatchId"
               xml:id="id_1324"/>
          </copy>
          <copy xml:id="id_1325">
           <from expression="string(bpws:getVariableData('ProcessedTargetIndex'))"
                 xml:id="id_1326"/>
           <to variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:SequenceId"
               xml:id="id_1327"/>
          </copy>
          <copy xml:id="id_1328">
           <from expression="'ITEM'" xml:id="id_1329"/>
           <to variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:EntityName"
               xml:id="id_1330"/>
          </copy>
         </assign>
         <assign name="Assign_ProcessPriceListandProcessBOMFlag"
                 xml:id="id_1331">
          <copy xml:id="id_1332">
           <from expression="bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;STRUCTURE_FLAG&quot;]/VALUE') = 'Y' and dvm:lookupValue('oramds:/apps/AIAMetaData/dvm/ENTITY_TO_TARGET_APPLICATION.dvm','TARGET_ID',bpws:getVariableData('ProcessedTargetName','TargetEntityStatusArray','/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:TargetName'),'RECEIVE_BOM_FLAG','F') = 'T'"
                 xml:id="id_1333"/>
           <to variable="TempProcessBOMFlag" xml:id="id_1334"/>
          </copy>
          <copy xml:id="id_1335">
           <from expression="dvm:lookupValue('oramds:/apps/AIAMetaData/dvm/ENTITY_TO_TARGET_APPLICATION.dvm','TARGET_ID',bpws:getVariableData('ProcessedTargetName','TargetEntityStatusArray','/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:TargetName'),'RECEIVE_PRICELIST_FLAG','F') = 'T' and count(bpws:getVariableData('syncPriceListListEBM','SyncPriceListListEBM','/ns3:SyncPriceListListEBM/ns3:DataArea')) > 0"
                 xml:id="id_1336"/>
           <to variable="TempProcessPriceListFlag" xml:id="id_1337"/>
          </copy>
         </assign>
         <assign name="AssignPreparePublicationXSLTParameters" xml:id="id_1338">
          <copy xml:id="id_1339">
           <from xml:id="id_1340">
            <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                                   xml:id="id_1341">
             <bpelcommon:item xml:id="id_1342">
              <bpelcommon:name xml:id="id_1343">SyncItemListResponseEBMParam</bpelcommon:name>
              <bpelcommon:value xml:id="id_1344"/>
             </bpelcommon:item>
             <bpelcommon:item xml:id="id_1345">
              <bpelcommon:name xml:id="id_1346">SyncPriceListResponseEBMParam</bpelcommon:name>
              <bpelcommon:value xml:id="id_1347"/>
             </bpelcommon:item>
            </bpelcommon:parameters>
           </from>
           <to variable="PublicationXSLTParameters" query="/bpelcommon:parameters"
               xml:id="id_1348"/>
          </copy>
         </assign>
         <scope name="SyncItems" xml:id="id_1349">
          <!-- FlowN Error Handling  -->
          <sequence name="SyncItems" xml:id="id_1350">
           <switch name="SetWorkFlowReleaseFlagForItem" xml:id="id_1351">
            <case condition="bpws:getVariableData('TempProcessBOMFlag') = true()  or bpws:getVariableData('TempProcessPriceListFlag') = true()"
                  xml:id="id_1352">
             <sequence name="Sequence_SetWorkFlowReleaseFlag" xml:id="id_1353">
              <assign name="Assign_NotoWorkFlowReleaseFlag" xml:id="id_1354">
               <copy xml:id="id_1355">
                <from expression="'N'" xml:id="id_1356"/>
                <to variable="WorkFlowReleaseFlag" xml:id="id_1357"/>
               </copy>
              </assign>
             </sequence>
            </case>
            <otherwise xml:id="id_1358">
             <sequence name="Sequence_SetWorkFlowReleaseFlag" xml:id="id_1359">
              <switch name="Switch_WorkFlowReleaseFlag" xml:id="id_1360">
               <case condition="bpws:getVariableData('ItemSyncWhileLoopFlag') = 'false'"
                     xml:id="id_1361">
                <assign name="Assign_ConfigProptoWorkFlowReleaseFlag"
                        xml:id="id_1362">
                 <copy xml:id="id_1363">
                  <from expression="bpws:getVariableData('WorkFlowReleaseFlagValue')"
                        xml:id="id_1364"/>
                  <to variable="WorkFlowReleaseFlag" xml:id="id_1365"/>
                 </copy>
                </assign>
               </case>
               <otherwise xml:id="id_1366">
                <assign name="Assign_NotoWorkFlowReleaseFlag" xml:id="id_1367">
                 <copy xml:id="id_1368">
                  <from expression="'N'" xml:id="id_1369"/>
                  <to variable="WorkFlowReleaseFlag" xml:id="id_1370"/>
                 </copy>
                </assign>
               </otherwise>
              </switch>
             </sequence>
            </otherwise>
           </switch>
           <assign name="AssignItemListEBMLocal" xml:id="id_1371">
            <copy xml:id="id_1372">
             <from variable="syncItemListEBM" query="/coreitem:SyncItemListEBM" part="SyncItemListEBM"
                   xml:id="id_1373"/>
             <to variable="syncItemListEBSReqMsg" part="SyncItemListEBM" query="/coreitem:SyncItemListEBM"
                 xml:id="id_1374"/>
            </copy>
            <copy xml:id="id_1375">
             <from expression="orcl:generate-guid()" xml:id="id_1376"/>
             <to variable="syncItemListEBSReqMsg" part="SyncItemListEBM" query="/coreitem:SyncItemListEBM/corecom:EBMHeader/corecom:EBMID"
                 xml:id="id_1377"/>
            </copy>
            <copy xml:id="id_1378">
             <from variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:TargetName"
                   xml:id="id_1379"/>
             <to variable="syncItemListEBSReqMsg" part="SyncItemListEBM" query="/coreitem:SyncItemListEBM/corecom:EBMHeader/corecom:Target/corecom:ID"
                 xml:id="id_1380"/>
            </copy>
            <copy xml:id="id_1381">
             <from expression="bpws:getVariableData('WorkFlowReleaseFlag')"
                   xml:id="id_1382"/>
             <to variable="syncItemListEBSReqMsg" part="SyncItemListEBM" query="/coreitem:SyncItemListEBM/corecom:EBMHeader/corecom:MessageBatch/corecom:BatchParameter[corecom:Name=&quot;WORKSPACE_RELEASE_FLAG&quot;]/corecom:Value"
                 xml:id="id_1383"/>
            </copy>
           </assign>
           <assign name="XformFilterDistinationSystem" xml:id="id_1384">
            <bpelx:annotation xml:id="id_1385">
             <bpelx:pattern xml:id="id_1386">transformation</bpelx:pattern>
            </bpelx:annotation>
            <copy xml:id="id_1387">
             <from expression="ora:processXSLT('xsl/XformFilterDistinationSystem.xsl',bpws:getVariableData('syncItemListEBSReqMsg','SyncItemListEBM'))"
                   xml:id="id_1388"/>
             <to variable="syncItemListEBSFilteredReqMsg" part="SyncItemListEBM"
                 xml:id="id_1389"/>
            </copy>
           </assign>
           <assign name="Assign_AppendItemListDetails" xml:id="id_2299">
            <bpelx:insertAfter xml:id="id_2300">
             <bpelx:from variable="syncItemListEBSFilteredReqMsg"
                         part="SyncItemListEBM"
                         query="/coreitem:SyncItemListEBM/coreitem:DataArea"
                         xml:id="id_2301"/>
             <bpelx:to variable="TempSyncItemListEBM" part="SyncItemListEBM"
                       query="/coreitem:SyncItemListEBM/coreitem:DataArea"
                       xml:id="id_2302"/>
            </bpelx:insertAfter>
           </assign>
           <bpelx:exec name="TraceLog_BeforeInvokeItemList" language="java" version="1.3"
                       xml:id="id_1390">
            <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled;  
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     

tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                  
setVariableData("TraceLogEnabled", tracelogenabled);        

if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Before ItemList EBS Service Invoke Instance: " + instanceID + title; ;                         
   
   oracle.xml.parser.v2.XMLElement EBM_HEADER =                                                                        
                                                                              
   (oracle.xml.parser.v2.XMLElement)getVariableData("EBM_HEADER");                                                                                     
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  EBM_HEADER ,TraceLogMessage); 
   
}]]>
           </bpelx:exec>
           <scope name="Extn_PreInvokeItemListEBSSyncItemList" xml:id="id_2245"
                  variableAccessSerializable="no" ui:customizable="true"
                  bpelx:skipCondition="aia:getServiceProperty(bpws:getVariableData('ServiceName'),'ABCSExtension.PreInvokeItemListEBSSyncItemListEBM',false())!='true'">
            <sequence name="Sequence_26" xml:id="id_1393">
             <assign name="Assign_EBM" xml:id="id_1394">
              <copy xml:id="id_1395">
               <from variable="syncItemListEBSFilteredReqMsg"
                     part="SyncItemListEBM" query="/coreitem:SyncItemListEBM"
                     xml:id="id_1396"/>
               <to variable="PreInvokeItemListEBSSyncItemListEBMMsg_InputVar"
                   part="SyncItemListEBM" query="/coreitem:SyncItemListEBM"
                   xml:id="id_1397"/>
              </copy>
             </assign>
             <invoke name="PreInvokeItemListEBSSyncItemList"
                     partnerLink="SyncItemListPIMReqABCSImplExtension"
                     portType="tns:SyncItemListPIMReqABCSImplExtensionService"
                     operation="PreInvokeItemListEBSSyncItemListEBM"
                     inputVariable="PreInvokeItemListEBSSyncItemListEBMMsg_InputVar"
                     outputVariable="PreInvokeItemListEBSSyncItemListEBMMsg_OutputVar"
                     xml:id="id_1398"/>
             <assign name="Assign_EBM" xml:id="id_1399">
              <copy xml:id="id_1400">
               <from variable="PreInvokeItemListEBSSyncItemListEBMMsg_OutputVar"
                     part="SyncItemListEBM" query="/coreitem:SyncItemListEBM"
                     xml:id="id_1401"/>
               <to variable="syncItemListEBSFilteredReqMsg"
                   part="SyncItemListEBM" query="/coreitem:SyncItemListEBM"
                   xml:id="id_1402"/>
              </copy>
             </assign>
            </sequence>
           </scope>
           <switch name="Switch_2" xml:id="id_1405">
            <case condition="count(bpws:getVariableData('syncItemListEBSFilteredReqMsg','SyncItemListEBM','/coreitem:SyncItemListEBM/coreitem:DataArea')) > 0"
                  xml:id="id_1406">
             <sequence name="Sequence_35" xml:id="id_1407">
              <invoke name="InvokeItemList" partnerLink="ItemEBS" portType="itemebs:ItemEBS" operation="SyncItemList" inputVariable="syncItemListEBSFilteredReqMsg"
                      xml:id="id_1408">
               <correlations xml:id="id_1409">
                <correlation initiate="yes" set="CorrelationSet_ItemSet" pattern="out"
                             xml:id="id_1410"/>
               </correlations>
              </invoke>
              <bpelx:exec name="TraceLog_AfterInvokeItemList" language="java" version="1.3"
                          xml:id="id_1411">
               <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled;  
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     

tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                  
setVariableData("TraceLogEnabled", tracelogenabled);        

if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " After ItemList EBS Service Invoke Instance: " + instanceID + title; ;                         
   
   oracle.xml.parser.v2.XMLElement EBM_HEADER =                                                                        
                                                                              
   (oracle.xml.parser.v2.XMLElement)getVariableData("EBM_HEADER");                                                                                     
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  EBM_HEADER ,TraceLogMessage); 
   
}]]>
              </bpelx:exec>
              <receive name="ReceiveItemList" createInstance="no" partnerLink="SyncItemListPIMReqABCSImpl" portType="itemlistabcs:SyncItemListPIMReqABCSImplService" operation="ReceiveSyncItemListResponse" variable="receiveSyncItemListResponse_InputVariable"
                       xml:id="id_1412">
               <correlations xml:id="id_1413">
                <correlation initiate="no" set="CorrelationSet_ItemSet"
                             xml:id="id_1414"/>
               </correlations>
              </receive>
              <scope name="Extn_Invoke_PostXformEBMtoABMItemList" xml:id="id_2246"
                     variableAccessSerializable="no"
                     bpelx:skipCondition="aia:getServiceProperty(bpws:getVariableData('ServiceName'),'ABCSExtension.PostXformEBMtoABMItemListEBM',false())!='true'"
                     ui:customizable="true">
               <sequence name="Sequence_25" xml:id="id_1417">
                <assign name="Assign_EBM" xml:id="id_1418">
                 <copy xml:id="id_1419">
                  <from variable="receiveSyncItemListResponse_InputVariable"
                        part="SyncItemListResponseEBM"
                        query="/coreitem:SyncItemListResponseEBM"
                        xml:id="id_1420"/>
                  <to variable="PostXformEBMtoABMItemListEBMMsg_InputVar"
                      part="SyncItemListResponseEBM"
                      query="/coreitem:SyncItemListResponseEBM"
                      xml:id="id_1421"/>
                 </copy>
                </assign>
                <invoke name="Invoke_PostXformEBMtoABMItemList"
                        partnerLink="SyncItemListPIMReqABCSImplExtension"
                        portType="tns:SyncItemListPIMReqABCSImplExtensionService"
                        operation="PostXformEBMtoABMItemListEBM"
                        inputVariable="PostXformEBMtoABMItemListEBMMsg_InputVar"
                        outputVariable="PostXformEBMtoABMItemListEBMMsg_OutputVar"
                        xml:id="id_1422"/>
                <assign name="Assign_EBM" xml:id="id_1423">
                 <copy xml:id="id_1424">
                  <from variable="PostXformEBMtoABMItemListEBMMsg_OutputVar"
                        part="SyncItemListResponseEBM"
                        query="/coreitem:SyncItemListResponseEBM"
                        xml:id="id_1425"/>
                  <to variable="receiveSyncItemListResponse_InputVariable"
                      part="SyncItemListResponseEBM"
                      query="/coreitem:SyncItemListResponseEBM"
                      xml:id="id_1426"/>
                 </copy>
                </assign>
               </sequence>
              </scope>              
              <assign name="Assign_ResponseEBM" xml:id="id_1429">
               <copy xml:id="id_1430">
                <from expression="ora:getContentAsString(bpws:getVariableData('receiveSyncItemListResponse_InputVariable','SyncItemListResponseEBM','/coreitem:SyncItemListResponseEBM'))"
                      xml:id="id_1431"/>
                <to variable="PublicationXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SyncItemListResponseEBMParam']/bpelcommon:value"
                    xml:id="id_1432"/>
               </copy>
															<copy xml:id="id_1433">
																<from expression="''" xml:id="id_1434"/>
																<to variable="PublicationXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SyncPriceListResponseEBMParam']/bpelcommon:value"
                    xml:id="id_1435"/>
															</copy>               
              </assign>
              <assign name="Assign_ConstructTargetStatusArrayAppend"
                      xml:id="id_1436">
               <copy xml:id="id_1437">
                <from expression="bpws:getVariableData('receiveSyncItemListResponse_InputVariable','SyncItemListResponseEBM','/coreitem:SyncItemListResponseEBM/corecom:EBMHeader/corecom:MessageBatch/corecom:StatusCode')"
                      xml:id="id_1438"/>
                <to variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:EntrySyncStatus"
                    xml:id="id_1439"/>
               </copy>
               <extensibleAssign xml:id="id_1440">
                <bpelx:insertAfter xml:id="id_1441">
                 <bpelx:from variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus"
                             xml:id="id_1442"/>
                 <bpelx:to variable="TargetEntityStatusVar" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus"
                           xml:id="id_1443"/>
                </bpelx:insertAfter>
               </extensibleAssign>
              </assign>
             </sequence>
            </case>
            <otherwise xml:id="id_1444">
             <sequence name="Sequence_36" xml:id="id_1445">
              <assign name="Assign_ResponseEBM" xml:id="id_1446">
               <copy xml:id="id_1447">
                <from expression="''" xml:id="id_1448"/>
                <to variable="PublicationXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SyncItemListResponseEBMParam']/bpelcommon:value"
                    xml:id="id_1449"/>
               </copy>
               <copy xml:id="id_1450">
                <from expression="''" xml:id="id_1451"/>
                <to variable="PublicationXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SyncPriceListResponseEBMParam']/bpelcommon:value"
                    xml:id="id_1452"/>
               </copy>
              </assign>
             </sequence>
            </otherwise>
           </switch>
           <scope name="Extn_PreInvokePublicationServiceItemListEBM" xml:id="id_2247"
                  variableAccessSerializable="no"
                  bpelx:skipCondition="aia:getServiceProperty(bpws:getVariableData('ServiceName'),'ABCSExtension.PreInvolkePublicationServiceItemListEBM',false())!='true'" ui:customizable="true">
            <sequence name="Sequence_27" xml:id="id_1455">
             <assign name="Assign_ABM" xml:id="id_1456">
              <copy xml:id="id_1457">
               <from variable="InvokePublicationService_InputVariable"
                     part="body"
                     query="/ns9:PublicationService_UpdatePublicationStatus"
                     xml:id="id_1458"/>
               <to variable="PreInvokePublicationServiceItemListEBMMsg_InputVar"
                   part="PublicationService_UpdatePublicationStatus"
                   query="/ns9:PublicationService_UpdatePublicationStatus"
                   xml:id="id_1459"/>
              </copy>
             </assign>
             <invoke name="PreInvokePublicationServiceItemListEBM"
                     partnerLink="SyncItemListPIMReqABCSImplExtension"
                     portType="tns:SyncItemListPIMReqABCSImplExtensionService"
                     operation="PreInvokePublicationServiceItemListEBM"
                     inputVariable="PreInvokePublicationServiceItemListEBMMsg_InputVar"
                     outputVariable="PreInvokePublicationServiceItemListEBMMsg_OutputVar"
                     xml:id="id_1460"/>
             <assign name="Assign_ABM" xml:id="id_1461">
              <copy xml:id="id_1462">
               <from variable="PreInvokePublicationServiceItemListEBMMsg_OutputVar"
                     part="PublicationService_UpdatePublicationStatus"
                     query="/ns9:PublicationService_UpdatePublicationStatus"
                     xml:id="id_1463"/>
               <to variable="InvokePublicationService_InputVariable" part="body"
                   query="/ns9:PublicationService_UpdatePublicationStatus"
                   xml:id="id_1464"/>
              </copy>
             </assign>
            </sequence>
           </scope>
           <assign name="XformSyncItemListResponseEBMtoPublicationServiceABM"
                   xml:id="id_1467">
            <copy xml:id="id_1468">
             <from expression="ora:processXSLT('xsl/XformSyncItemListResponseEBMToPublicationServiceABM.xsl',bpws:getVariableData('syncItemListEBSReqMsg','SyncItemListEBM'),bpws:getVariableData('PublicationXSLTParameters'))"
                   xml:id="id_1469"/>
             <to variable="InvokePublicationService_InputVariable" part="body"
                 xml:id="id_1470"/>
            </copy>
           </assign>
           <invoke name="InvokePublicationServiceUpdateItemStatus" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_InputVariable" outputVariable="InvokePublicationService_OutputVariable"
                   xml:id="id_1504" bpelx:invokeAsDetail="no">
            <bpelx:inputProperty name="endpointURI" xml:id="id_2279"
                                 expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
           </invoke>
          </sequence>
         </scope>
         <scope name="Scope_PriceListFlag" xml:id="id_1505">
          <sequence name="Sequence_SyncPriceList" xml:id="id_1506">
           <switch name="SwitchPriceListFlag" xml:id="id_1507">
            <case condition="bpws:getVariableData('TempProcessPriceListFlag') = true() and bpws:getVariableData('receiveSyncItemListResponse_InputVariable','SyncItemListResponseEBM','/coreitem:SyncItemListResponseEBM/corecom:EBMHeader/corecom:MessageBatch/corecom:StatusCode') ='Success' and count(bpws:getVariableData('syncPriceListListEBM','SyncPriceListListEBM','/ns3:SyncPriceListListEBM/ns3:DataArea')) > 0"
                  xml:id="id_1508">
             <sequence name="SyncPriceList" xml:id="id_1509">
              <switch name="SetWorkFlowReleaseFlagForPriceList"
                      xml:id="id_1510">
               <case condition="bpws:getVariableData('TempProcessBOMFlag') = true()"
                     xml:id="id_1511">
                <sequence name="Sequence_SetWorkFlowReleaseFlag"
                          xml:id="id_1512">
                 <assign name="Assign_NotoWorkFlowReleaseFlag" xml:id="id_1513">
                  <copy xml:id="id_1514">
                   <from expression="'N'" xml:id="id_1515"/>
                   <to variable="WorkFlowReleaseFlag" xml:id="id_1516"/>
                  </copy>
                 </assign>
                </sequence>
               </case>
               <otherwise xml:id="id_1517">
                <sequence name="Sequence_SetWorkFlowReleaseFlag"
                          xml:id="id_1518">
                 <switch name="Switch_WorkFlowReleaseFlag" xml:id="id_1519">
                  <case condition="bpws:getVariableData('ItemSyncWhileLoopFlag') = 'false'"
                        xml:id="id_1520">
                   <assign name="Assign_ConfigProptoWorkFlowReleaseFlag"
                           xml:id="id_1521">
                    <copy xml:id="id_1522">
                     <from expression="bpws:getVariableData('WorkFlowReleaseFlagValue')"
                           xml:id="id_1523"/>
                     <to variable="WorkFlowReleaseFlag" xml:id="id_1524"/>
                    </copy>
                   </assign>
                  </case>
                  <otherwise xml:id="id_1525">
                   <assign name="Assign_NotoWorkFlowReleaseFlag"
                           xml:id="id_1526">
                    <copy xml:id="id_1527">
                     <from expression="'N'" xml:id="id_1528"/>
                     <to variable="WorkFlowReleaseFlag" xml:id="id_1529"/>
                    </copy>
                   </assign>
                  </otherwise>
                 </switch>
                </sequence>
               </otherwise>
              </switch>
              <assign name="Assign_EntityName" xml:id="id_1530">
               <copy xml:id="id_1531">
                <from expression="'PriceList'" xml:id="id_1532"/>
                <to variable="ProcessedTargetName" part="TargetEntityStatusArray"
                    xml:id="id_1533"
                    query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:EntityName"/>
               </copy>
              </assign>
              <assign name="AssignPriceListEBMLocal" xml:id="id_1534">
               <copy xml:id="id_1535">
                <from variable="syncPriceListListEBM" part="SyncPriceListListEBM"
                      xml:id="id_1536" query="/ns3:SyncPriceListListEBM"/>
                <to variable="syncPriceListListReqMsg" part="SyncPriceListListEBM"
                    xml:id="id_1537" query="/ns3:SyncPriceListListEBM"/>
               </copy>
               <copy xml:id="id_1538">
                <from expression="orcl:generate-guid()" xml:id="id_1539"/>
                <to variable="syncPriceListListReqMsg" part="SyncPriceListListEBM" query="/ns3:SyncPriceListListEBM/corecom:EBMHeader/corecom:EBMID"
                    xml:id="id_1540"/>
               </copy>
               <copy xml:id="id_1541">
                <from variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:TargetName"
                      xml:id="id_1542"/>
                <to variable="syncPriceListListReqMsg" part="SyncPriceListListEBM" query="/ns3:SyncPriceListListEBM/corecom:EBMHeader/corecom:Target/corecom:ID"
                    xml:id="id_1543"/>
               </copy>
               <copy xml:id="id_1544">
                <from expression="bpws:getVariableData('WorkFlowReleaseFlag')"
                      xml:id="id_1545"/>
                <to variable="syncPriceListListReqMsg" part="SyncPriceListListEBM" query="/ns3:SyncPriceListListEBM/corecom:EBMHeader/corecom:MessageBatch/corecom:BatchParameter[corecom:Name=&quot;WORKSPACE_RELEASE_FLAG&quot;]/corecom:Value"
                    xml:id="id_1546"/>
               </copy>
              </assign>
              <assign name="XformPriceListFilterDistinationSystem"
                      xml:id="id_1547">
               <bpelx:annotation xml:id="id_1548">
                <bpelx:pattern xml:id="id_1549">transformation</bpelx:pattern>
               </bpelx:annotation>
               <copy xml:id="id_1550">
                <from expression="ora:processXSLT('xsl/XformPriceListFilterDistinationSystem.xsl',bpws:getVariableData('syncPriceListListReqMsg','SyncPriceListListEBM'))"
                      xml:id="id_1551"/>
                <to variable="syncPriceListListFilteredReqMsg" part="SyncPriceListListEBM"
                    xml:id="id_1552"/>
               </copy>
              </assign>
              <bpelx:exec name="TraceLog_BeforeInvokePriceListList" language="java" version="1.3"
                          xml:id="id_1553">
               <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled;  
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     

tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                  
setVariableData("TraceLogEnabled", tracelogenabled);        

if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Before PriceList EBS Service Invoke Instance: " + instanceID + title; ;                         
   
   oracle.xml.parser.v2.XMLElement EBM_HEADER =                                                                        
                                                                              
   (oracle.xml.parser.v2.XMLElement)getVariableData("EBM_HEADER");                                                                                     
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  EBM_HEADER ,TraceLogMessage); 
   
}]]>
              </bpelx:exec>
              <scope name="Extn_PreInvokePriceListEBS" xml:id="id_2248"
                     variableAccessSerializable="no"
                     bpelx:skipCondition="aia:getServiceProperty(bpws:getVariableData('ServiceName'),'ABCSExtension.PreInvokePriceListEBSSyncItemListEBM',false())!='true'" ui:customizable="true">
               <sequence name="Sequence_28" xml:id="id_1556">
                <assign name="Assign_EBM" xml:id="id_1557">
                 <copy xml:id="id_1558">
                  <from variable="syncPriceListListFilteredReqMsg"
                        part="SyncPriceListListEBM"
                        query="/ns3:SyncPriceListListEBM" xml:id="id_1559"/>
                  <to variable="PreInvokePriceListEBSSyncItemListEBMMsg_InputVar"
                      part="SyncPriceListListEBM"
                      query="/ns3:SyncPriceListListEBM" xml:id="id_1560"/>
                 </copy>
                </assign>
                <invoke name="PreInvokePriceListEBS"
                        partnerLink="SyncItemListPIMReqABCSImplExtension"
                        portType="tns:SyncItemListPIMReqABCSImplExtensionService"
                        operation="PreInvokePriceListEBSSyncItemListEBM"
                        inputVariable="PreInvokePriceListEBSSyncItemListEBMMsg_InputVar"
                        outputVariable="PreInvokePriceListEBSSyncItemListEBMMsg_OutputVar"
                        xml:id="id_1561"/>
                <assign name="Assign_EBM" xml:id="id_1562">
                 <copy xml:id="id_1563">
                  <from variable="PreInvokePriceListEBSSyncItemListEBMMsg_OutputVar"
                        part="SyncPriceListListEBM"
                        query="/ns3:SyncPriceListListEBM" xml:id="id_1564"/>
                  <to variable="syncPriceListListFilteredReqMsg"
                      part="SyncPriceListListEBM"
                      query="/ns3:SyncPriceListListEBM" xml:id="id_1565"/>
                 </copy>
                </assign>
               </sequence>
              </scope>
              <switch name="Switch_ProcessPriceList" xml:id="id_1568">
               <case condition="count(bpws:getVariableData('syncPriceListListFilteredReqMsg','SyncPriceListListEBM','/ns3:SyncPriceListListEBM/ns3:DataArea')) > 0"
                     xml:id="id_1569">
                <sequence name="Sequence_37" xml:id="id_1570">
                 <invoke name="InvokePriceList" partnerLink="PriceListEBSV2" portType="ns4:PriceListEBS" inputVariable="syncPriceListListFilteredReqMsg" operation="SyncPriceListList"
                         xml:id="id_1571">
                  <correlations xml:id="id_1572">
                   <correlation initiate="yes" set="CorrelationSet_PriceListSet1" pattern="out"
                                xml:id="id_1573"/>
                  </correlations>
                 </invoke>
                 <bpelx:exec name="TraceLog_AfterInvokePriceListList" language="java" version="1.3"
                             xml:id="id_1574">
                  <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled;  
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     

tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                  
setVariableData("TraceLogEnabled", tracelogenabled);        

if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + "After PriceList EBS Service Invoke Instance: " + instanceID + title; ;                         
   
   oracle.xml.parser.v2.XMLElement EBM_HEADER =                                                                        
                                                                              
   (oracle.xml.parser.v2.XMLElement)getVariableData("EBM_HEADER");                                                                                     
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  EBM_HEADER ,TraceLogMessage); 
   
}]]>
                 </bpelx:exec>
                 <receive name="ReceivePriceList" partnerLink="SyncItemListPIMReqABCSImpl" portType="itemlistabcs:SyncItemListPIMReqABCSImplService" operation="ReceiveSyncPriceListResponse" variable="receiveSyncPriceListResponse_InputVariable" createInstance="no"
                          xml:id="id_1575">
                  <correlations xml:id="id_1576">
                   <correlation initiate="no" set="CorrelationSet_PriceListSet1"
                                xml:id="id_1577"/>
                  </correlations>
                 </receive>
                 <scope name="Extn_PostXformEBMtoABMPriceListEBM" xml:id="id_2249"
                        variableAccessSerializable="no"
                        bpelx:skipCondition="aia:getServiceProperty(bpws:getVariableData('ServiceName'),'ABCSExtension.PostXformEBMtoABMPriceListEBM',false())!='true'" ui:customizable="true">
                  <sequence name="Sequence_29" xml:id="id_1580">
                   <assign name="Assign_EBM" xml:id="id_1581">
                    <copy xml:id="id_1582">
                     <from variable="receiveSyncPriceListResponse_InputVariable"
                           part="SyncPriceListListResponseEBM"
                           query="/ns3:SyncPriceListListResponseEBM"
                           xml:id="id_1583"/>
                     <to variable="PostXformEBMtoABMPriceListEBMMsg_InputVar"
                         part="SyncPriceListListResponseEBM"
                         query="/ns3:SyncPriceListListResponseEBM"
                         xml:id="id_1584"/>
                    </copy>
                   </assign>
                   <invoke name="PostXformEBMtoABMPriceListEBM"
                           partnerLink="SyncItemListPIMReqABCSImplExtension"
                           portType="tns:SyncItemListPIMReqABCSImplExtensionService"
                           operation="PostXformEBMtoABMPriceListEBM"
                           inputVariable="PostXformEBMtoABMPriceListEBMMsg_InputVar"
                           outputVariable="PostXformEBMtoABMPriceListEBMMsg_OutputVar"
                           xml:id="id_1585"/>
                   <assign name="Assign_EBM" xml:id="id_1586">
                    <copy xml:id="id_1587">
                     <from variable="PostXformEBMtoABMPriceListEBMMsg_OutputVar"
                           part="SyncPriceListListResponseEBM"
                           query="/ns3:SyncPriceListListResponseEBM"
                           xml:id="id_1588"/>
                     <to variable="receiveSyncPriceListResponse_InputVariable"
                         part="SyncPriceListListResponseEBM"
                         query="/ns3:SyncPriceListListResponseEBM"
                         xml:id="id_1589"/>
                    </copy>
                   </assign>
                  </sequence>
                 </scope>
                 <assign name="Assign_ResponseEBM" xml:id="id_1592">
                  <copy xml:id="id_1593">
                   <from expression="ora:getContentAsString(bpws:getVariableData('receiveSyncPriceListResponse_InputVariable','SyncPriceListListResponseEBM','/ns3:SyncPriceListListResponseEBM'))"
                         xml:id="id_1594"/>
                   <to variable="PublicationXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SyncPriceListResponseEBMParam']/bpelcommon:value"
                       xml:id="id_1595"/>
                  </copy>
                 </assign>
                </sequence>
               </case>
               <otherwise xml:id="id_1596">
                <assign name="Assign_ResponseEBM" xml:id="id_1597">
                 <copy xml:id="id_1598">
                  <from expression="''" xml:id="id_1599"/>
                  <to variable="PublicationXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SyncPriceListResponseEBMParam']/bpelcommon:value"
                      xml:id="id_1600"/>
                 </copy>
                </assign>
               </otherwise>
              </switch>
              <assign name="XformSyncPriceListResponseEBMtoPublicationServiceABM"
                      xml:id="id_1601">
               <copy xml:id="id_1602">
                <from expression="ora:processXSLT('xsl/XformSyncPriceListResponseEBMToPublicationServiceABM.xsl',bpws:getVariableData('syncPriceListListReqMsg','SyncPriceListListEBM'),bpws:getVariableData('PublicationXSLTParameters'))"
                      xml:id="id_1603"/>
                <to variable="InvokePublicationService_InputVariable" part="body"
                    xml:id="id_1604"/>
               </copy>
              </assign>
              <scope name="Extn_PreInvokePublicationServicePriceListEBM" xml:id="id_2250" ui:customizable="true"
                     variableAccessSerializable="no"
                     bpelx:skipCondition="aia:getServiceProperty(bpws:getVariableData('ServiceName'),'ABCSExtension.PreInvolkePublicationServicePriceListEBM',false())!='true'">
               <sequence name="Sequence_30" xml:id="id_1607">
                <assign name="Assign_ABM" xml:id="id_1608">
                 <copy xml:id="id_1609">
                  <from variable="InvokePublicationService_InputVariable"
                        part="body"
                        query="/ns9:PublicationService_UpdatePublicationStatus"
                        xml:id="id_1610"/>
                  <to variable="PreInvokePublicationServicePriceListEBMMsg_InputVar"
                      part="PublicationService_UpdatePublicationStatus"
                      query="/ns9:PublicationService_UpdatePublicationStatus"
                      xml:id="id_1611"/>
                 </copy>
                </assign>
                <invoke name="PreInvokePublicationServicePriceListEBM"
                        partnerLink="SyncItemListPIMReqABCSImplExtension"
                        portType="tns:SyncItemListPIMReqABCSImplExtensionService"
                        operation="PreInvokePublicationServicePriceListEBM"
                        inputVariable="PreInvokePublicationServicePriceListEBMMsg_InputVar"
                        outputVariable="PreInvokePublicationServicePriceListEBMMsg_OutputVar"
                        xml:id="id_1612"/>
                <assign name="Assign_ABM" xml:id="id_1613">
                 <copy xml:id="id_1614">
                  <from variable="PreInvokePublicationServicePriceListEBMMsg_OutputVar"
                        part="PublicationService_UpdatePublicationStatus"
                        query="/ns9:PublicationService_UpdatePublicationStatus"
                        xml:id="id_1615"/>
                  <to variable="InvokePublicationService_InputVariable"
                      part="body"
                      query="/ns9:PublicationService_UpdatePublicationStatus"
                      xml:id="id_1616"/>
                 </copy>
                </assign>
               </sequence>
              </scope>
              <invoke name="InvolkePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_InputVariable" outputVariable="InvokePublicationService_OutputVariable"
                      xml:id="id_1652" bpelx:invokeAsDetail="no">
               <bpelx:inputProperty name="endpointURI" xml:id="id_2280"
                                    expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
              </invoke>
             </sequence>
            </case>
            <otherwise xml:id="id_1653">
             <sequence name="NoPriceListtoSync" xml:id="id_1654">
              <empty name="NoPriceListtoProcess" xml:id="id_1655"/>
             </sequence>
            </otherwise>
           </switch>
          </sequence>
         </scope>
        </sequence>
       </scope>
      </bpelx:flowN>
     </sequence>
    </while>
   </sequence>
  </while>
  <switch name="Switch_BOMFlag" xml:id="id_1656">
   <case condition="bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;STRUCTURE_FLAG&quot;]/VALUE') = 'Y' "
         xml:id="id_1657">
    <sequence name="Sequence_22" xml:id="id_1658">
     <assign name="Assign_ReInitializeGlobalVariables" xml:id="id_1659">
      <copy xml:id="id_1660">
       <from expression="0" xml:id="id_1661"/>
       <to variable="ProcessedTargetIndex" xml:id="id_1662"/>
      </copy>
     </assign>
     <while name="While_3" condition="bpws:getVariableData('BOMSyncWhileLoopFlag') != 'false'"
            xml:id="id_1663">
      <bpelx:annotation xml:id="id_1664">
       <bpelx:documentation xml:id="id_1665">While to process Bill of Materials</bpelx:documentation>
      </bpelx:annotation>
      <sequence name="Sequence_SyncBillOfMaterials" xml:id="id_1666">
       <scope name="GetBillOfMaterialInformation" xml:id="id_1667">
        <sequence name="GetBillOfMaterialInformation" xml:id="id_1668">
         <assign name="Assign_FlowNWhileLoopCount" xml:id="id_1669">
          <copy xml:id="id_1670">
           <from expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl','NUMBER_OF_PARALLEL_BOM_TARGETS',true())"
                 xml:id="id_1671"/>
           <to variable="NumberofParallelBOMTargets" xml:id="id_1672"/>
          </copy>
          <copy xml:id="id_1673">
           <from expression="ceiling(bpws:getVariableData('NoofTargets') div bpws:getVariableData('NumberofParallelBOMTargets'))"
                 xml:id="id_1674"/>
           <to variable="FlowNWhileLoopCount" xml:id="id_1675"/>
          </copy>
          <copy xml:id="id_1676">
           <from expression="0" xml:id="id_1677"/>
           <to variable="FlowNWhileLoopIndex" xml:id="id_1678"/>
          </copy>
         </assign>
         <switch name="Switch_SessionID" xml:id="id_1679">
          <case condition="bpws:getVariableData('QueryBOMSessionID') !=''"
                xml:id="id_1680">
           <empty name="Empty_14" xml:id="id_1681"/>
          </case>
          <otherwise xml:id="id_1682">
           <assign name="Assign_SessionID" xml:id="id_1683">
            <copy xml:id="id_1684">
             <from expression="'NONE'" xml:id="id_1685"/>
             <to variable="QueryBOMSessionID" xml:id="id_1686"/>
            </copy>
           </assign>
          </otherwise>
         </switch>
         <assign name="Assign_ConstructBillsOfMaterialServiceABM"
                 xml:id="id_1687">
          <copy xml:id="id_1688">
           <from expression="bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE')"
                 xml:id="id_1689"/>
           <to variable="invokeBillsOfMaterialServiceCallGetItemStructure_InputVariable" part="QueryBillOffMaterialsListPIMAdapterProcessRequest"
               xml:id="id_1690"
               query="/ns17:QueryBillOffMaterialsListPIMAdapterProcessRequest/ns13:StructureQueryIn/structureQueryParameters/BatchStructureQueryParameters/BatchId"/>
          </copy>
          <copy xml:id="id_1691">
           <from expression="bpws:getVariableData('SystemID')"
                 xml:id="id_1692"/>
           <to variable="invokeBillsOfMaterialServiceCallGetItemStructure_InputVariable" part="QueryBillOffMaterialsListPIMAdapterProcessRequest" query="/ns17:QueryBillOffMaterialsListPIMAdapterProcessRequest/ns17:SystemID"
               xml:id="id_1693"/>
          </copy>
          <copy xml:id="id_1694">
           <from expression="bpws:getVariableData('QueryBOMSessionID')"
                 xml:id="id_1695"/>
           <to variable="invokeBillsOfMaterialServiceCallGetItemStructure_InputVariable" part="QueryBillOffMaterialsListPIMAdapterProcessRequest" query="/ns17:QueryBillOffMaterialsListPIMAdapterProcessRequest/ns17:SessionID"
               xml:id="id_1696"/>
          </copy>
          <copy xml:id="id_1697">
           <from expression="'QUERY'" xml:id="id_1698"/>
           <to variable="invokeBillsOfMaterialServiceCallGetItemStructure_InputVariable" part="QueryBillOffMaterialsListPIMAdapterProcessRequest" query="/ns17:QueryBillOffMaterialsListPIMAdapterProcessRequest/ns17:Mode"
               xml:id="id_1699"/>
          </copy>
         </assign>
         <bpelx:exec name="TraceLog_BeforeInvokeBillsOfMaterialList" language="java" version="1.3"
                     xml:id="id_1700">
          <![CDATA[java.lang.String TraceLogMessage = null; 
java.lang.Boolean tracelogenabled;  
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     

tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                  
setVariableData("TraceLogEnabled", tracelogenabled);        

if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + "Before BillsOfMaterial EBS Service Invoke Instance: " + instanceID + title; ;                         
   
   oracle.xml.parser.v2.XMLElement EBM_HEADER =                                                                        
                                                                              
   (oracle.xml.parser.v2.XMLElement)getVariableData("EBM_HEADER");                                                                                     
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  EBM_HEADER ,TraceLogMessage); 
   
}]]>
         </bpelx:exec>
         <invoke name="InvokeItemListPIMAdapterCallGetItemStructure" partnerLink="QueryBillOffMaterialsListPIMAdapter" portType="ns17:QueryBillOffMaterialsListPIMAdapterService" operation="InvolkeBillofMaterialService" inputVariable="invokeBillsOfMaterialServiceCallGetItemStructure_InputVariable" outputVariable="invokeBillsOfMaterialServiceCallGetItemStructure_OutputVariable"
                 xml:id="id_1734" bpelx:invokeAsDetail="no">
          <bpelx:inputProperty name="endpointURI" xml:id="id_2281"
                               expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.QueryBillOffMaterialsListPIMAdapter.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
         </invoke>
         <switch name="Switch_GetStructureStatusCheck" xml:id="id_1735">
          <case condition="count(bpws:getVariableData('invokeBillsOfMaterialServiceCallGetItemStructure_OutputVariable','QueryBillOffMaterialsListPIMAdapterProcessResponse','/ns17:QueryBillOffMaterialsListPIMAdapterProcessResponse/ns13:StructureQueryOut/listOfStructureHeaders/StructureHeader')) = 0 or bpws:getVariableData('invokeBillsOfMaterialServiceCallGetItemStructure_OutputVariable','QueryBillOffMaterialsListPIMAdapterProcessResponse','/ns17:QueryBillOffMaterialsListPIMAdapterProcessResponse/ns13:StructureQueryOut/listOfStructureHeaders/Status/ListOfErrors/Message') != ''"
                xml:id="id_1736">
           <sequence name="Sequence_38" xml:id="id_1737">
            <assign name="Assign_CreateEnterpriseFaultMessage" xml:id="id_1738">
             <copy xml:id="id_1739">
              <from variable="invokeBillsOfMaterialServiceCallGetItemStructure_OutputVariable" part="QueryBillOffMaterialsListPIMAdapterProcessResponse" query="/ns17:QueryBillOffMaterialsListPIMAdapterProcessResponse/ns13:StructureQueryOut/listOfStructureHeaders/Status/ListOfErrors/Message"
                    xml:id="id_1740"/>
              <to variable="EnterpriseFaultMsg" part="AIAFault" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultMessage/corecom:Text"
                  xml:id="id_1741"/>
             </copy>
             <copy xml:id="id_1742">
              <from expression="ora:getInstanceId()" xml:id="id_1743"/>
              <to variable="EnterpriseFaultMsg" part="AIAFault" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:InstanceID"
                  xml:id="id_1744"/>
             </copy>
             <copy xml:id="id_1745">
              <from expression="'BPEL'" xml:id="id_1746"/>
              <to variable="EnterpriseFaultMsg" part="AIAFault" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:ImplementationCode"
                  xml:id="id_1747"/>
             </copy>
             <copy xml:id="id_1748">
              <from expression="ora:getProcessId()" xml:id="id_1749"/>
              <to variable="EnterpriseFaultMsg" part="AIAFault" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:ID"
                  xml:id="id_1750"/>
             </copy>
            </assign>
            <throw name="ThrowInternalFault" faultName="itemlistabcs:fault" faultVariable="EnterpriseFaultMsg"
                   xml:id="id_1751"/>
           </sequence>
          </case>
          <otherwise xml:id="id_1752">
           <empty name="Empty_16" xml:id="id_1753"/>
          </otherwise>
         </switch>
         <bpelx:exec name="TraceLog_AfterInvokeBillsOfMaterialService" language="java" version="1.3"
                     xml:id="id_1754">
          <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled;  
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     
tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                  
setVariableData("TraceLogEnabled", tracelogenabled);        

if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " After BillsOfMaterialService: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
         </bpelx:exec>
         <bpelx:exec name="TraceLog_BeforeBillsOfMaterialListEBMReqMsgTransform" language="java" version="1.3"
                     xml:id="id_1755">
          <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled;  
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     

tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                  
setVariableData("TraceLogEnabled", tracelogenabled);        

if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Before BillsOfMaterialListEBMMsg Transform Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
         </bpelx:exec>
         <assign name="Assign_SyncItemList" xml:id="id_2293">
          <copy xml:id="id_2294">
           <from variable="TempSyncItemListEBM" part="SyncItemListEBM"
                 query="/coreitem:SyncItemListEBM" xml:id="id_2295"/>
           <to variable="BOMSyncItemListReqMsg" part="SyncItemListEBM"
               query="/coreitem:SyncItemListEBM" xml:id="id_2296"/>
          </copy>
         </assign>
         <assign name="Assign_XSLTParam" xml:id="id_1756">
          <copy xml:id="id_1757">
           <from xml:id="id_1758">
            <bpelcommon:parameters xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                                   xml:id="id_1759">
             <bpelcommon:item xml:id="id_1760">
              <bpelcommon:name xml:id="id_1761">SystemID</bpelcommon:name>
              <bpelcommon:value xml:id="id_1762"/>
             </bpelcommon:item>
             <bpelcommon:item xml:id="id_1763">
              <bpelcommon:name xml:id="id_1764">BatchID</bpelcommon:name>
              <bpelcommon:value xml:id="id_1765"/>
             </bpelcommon:item>
             <bpelcommon:item xml:id="id_1766">
              <bpelcommon:name xml:id="id_1767">WorkpaceName</bpelcommon:name>
              <bpelcommon:value xml:id="id_1768"/>
             </bpelcommon:item>
             <bpelcommon:item xml:id="id_2289">
              <bpelcommon:name xml:id="id_2290">ReqEBMParam</bpelcommon:name>
              <bpelcommon:value xml:id="id_2291"/>
             </bpelcommon:item>
            </bpelcommon:parameters>
           </from>
           <to variable="XSLTParameters" xml:id="id_1769"
               query="/bpelcommon:parameters"/>
          </copy>
          <copy xml:id="id_1770">
           <from expression="bpws:getVariableData('SystemID')"
                 xml:id="id_1771"/>
           <to variable="XSLTParameters" xml:id="id_1772"
               query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SystemID']/bpelcommon:value"/>
          </copy>
          <copy xml:id="id_1773">
           <from expression="bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE')"
                 xml:id="id_1774"/>
           <to variable="XSLTParameters"
               query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BatchID']/bpelcommon:value"
               xml:id="id_1775"/>
          </copy>
          <copy xml:id="id_1776">
           <from expression="bpws:getVariableData('SyncItemListReqMsg','SyncItemList','/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;Workspace Name&quot;]/VALUE')"
                 xml:id="id_1777"/>
           <to variable="XSLTParameters"
               query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='WorkpaceName']/bpelcommon:value"
               xml:id="id_1778"/>
          </copy>
          <copy xml:id="id_2286">
           <from expression="ora:getContentAsString(bpws:getVariableData('BOMSyncItemListReqMsg','SyncItemListEBM','/coreitem:SyncItemListEBM'))" xml:id="id_2287"/>
           <to variable="XSLTParameters"
               xml:id="id_2288"
               query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ReqEBMParam']/bpelcommon:value"/>
          </copy>
         </assign>
         <scope name="Extn_Invoke_PreXformABMtoEBMIBillOfMaterialsListABM" xml:id="id_2251"
                variableAccessSerializable="no"
                bpelx:skipCondition="aia:getServiceProperty(bpws:getVariableData('ServiceName'),'ABCSExtension.PreXformABMtoEBMIBillOfMaterialsListABM',false())!='true'" ui:customizable="true">
          <sequence name="Sequence_31" xml:id="id_1781">
           <assign name="Assign_ABM" xml:id="id_1782">
            <copy xml:id="id_1783">
             <from variable="invokeBillsOfMaterialServiceCallGetItemStructure_OutputVariable"
                   part="QueryBillOffMaterialsListPIMAdapterProcessResponse"
                   query="/ns17:QueryBillOffMaterialsListPIMAdapterProcessResponse"
                   xml:id="id_1784"/>
             <to variable="PreXformABMtoEBMIBillOfMaterialsListABMMsg_InputVar"
                 part="QueryBillOffMaterialsListPIMAdapterProcessResponse"
                 query="/ns17:QueryBillOffMaterialsListPIMAdapterProcessResponse"
                 xml:id="id_1785"/>
            </copy>
           </assign>
           <invoke name="Invoke_PreXformABMtoEBMIBillOfMaterialsListABM"
                   partnerLink="SyncItemListPIMReqABCSImplExtension"
                   portType="tns:SyncItemListPIMReqABCSImplExtensionService"
                   operation="PreXformABMtoEBMIBillOfMaterialsListABM"
                   inputVariable="PreXformABMtoEBMIBillOfMaterialsListABMMsg_InputVar"
                   outputVariable="PreXformABMtoEBMIBillOfMaterialsListABMMsg_OutputVar"
                   xml:id="id_1786"/>
           <assign name="Assign_ABM" xml:id="id_1787">
            <copy xml:id="id_1788">
             <from variable="PreXformABMtoEBMIBillOfMaterialsListABMMsg_OutputVar"
                   part="QueryBillOffMaterialsListPIMAdapterProcessResponse"
                   query="/ns17:QueryBillOffMaterialsListPIMAdapterProcessResponse"
                   xml:id="id_1789"/>
             <to variable="invokeBillsOfMaterialServiceCallGetItemStructure_OutputVariable"
                 part="QueryBillOffMaterialsListPIMAdapterProcessResponse"
                 query="/ns17:QueryBillOffMaterialsListPIMAdapterProcessResponse"
                 xml:id="id_1790"/>
            </copy>
           </assign>
          </sequence>
         </scope>         
         <assign name="XformBillOfMaterialsResponsePIMABMToSynBillOfMaterialListEBM"
                 xml:id="id_1793">
          <copy xml:id="id_1794">
           <from expression="ora:processXSLT('xsl/XformBillOfMaterialsResponsePIMABMToSynBillOfMaterialListEBM.xsl',bpws:getVariableData('invokeBillsOfMaterialServiceCallGetItemStructure_OutputVariable','QueryBillOffMaterialsListPIMAdapterProcessResponse'),bpws:getVariableData('XSLTParameters'))"
                 xml:id="id_1795"/>
           <to variable="syncBillsOfMaterialListEBM" part="SyncBillOfMaterialsListEBM"
               xml:id="id_1796"/>
          </copy>
          <copy xml:id="id_1797">
           <from variable="invokeBillsOfMaterialServiceCallGetItemStructure_OutputVariable" part="QueryBillOffMaterialsListPIMAdapterProcessResponse" query="/ns17:QueryBillOffMaterialsListPIMAdapterProcessResponse/ns17:SessionID"
                 xml:id="id_1798"/>
           <to variable="QueryBOMSessionID" xml:id="id_1799"/>
          </copy>
          <copy xml:id="id_1800">
           <from variable="invokeBillsOfMaterialServiceCallGetItemStructure_OutputVariable" part="QueryBillOffMaterialsListPIMAdapterProcessResponse" query="/ns17:QueryBillOffMaterialsListPIMAdapterProcessResponse/ns17:ContinueFlag"
                 xml:id="id_1801"/>
           <to variable="BOMSyncWhileLoopFlag" xml:id="id_1802"/>
          </copy>
         </assign>
         <assign name="AssignRestructureSyncBillOfMaterialsListEBM"
                 xml:id="id_1803">
          <bpelx:annotation xml:id="id_1804">
           <bpelx:pattern xml:id="id_1805">transformation</bpelx:pattern>
          </bpelx:annotation>
          <copy xml:id="id_1806">
           <from expression="ora:processXSLT('xsl/XformRestructureSyncBillOfMaterialsListEBM.xsl',bpws:getVariableData('syncBillsOfMaterialListEBM','SyncBillOfMaterialsListEBM'))"
                 xml:id="id_1807"/>
           <to variable="syncBillsOfMaterialListEBM" part="SyncBillOfMaterialsListEBM"
               xml:id="id_1808"/>
          </copy>
         </assign>
        </sequence>
       </scope>
       <switch name="Switch_1" xml:id="id_1809">
        <case condition="count(bpws:getVariableData('syncBillsOfMaterialListEBM','SyncBillOfMaterialsListEBM','/ns2:SyncBillOfMaterialsListEBM/ns2:DataArea')) > 0"
              xml:id="id_1810">
         <while name="While_4" condition="bpws:getVariableData('FlowNWhileLoopIndex') &lt; bpws:getVariableData('FlowNWhileLoopCount')"
                xml:id="id_1811">
          <sequence name="Sequence_15" xml:id="id_1812">
           <assign name="Assign_FlowNWhileLoopIndex" xml:id="id_1813">
            <copy xml:id="id_1814">
             <from expression="bpws:getVariableData('FlowNWhileLoopIndex') + 1 "
                   xml:id="id_1815"/>
             <to variable="FlowNWhileLoopIndex" xml:id="id_1816"/>
            </copy>
           </assign>
           <switch name="Switch_FlowNLoopCount" xml:id="id_1817">
            <case condition="bpws:getVariableData('NoofTargets') > bpws:getVariableData('NumberofParallelBOMTargets')"
                  xml:id="id_1818">
             <assign name="Assign_NumberofParallelTargetstoFlowNLoopCount"
                     xml:id="id_1819">
              <copy xml:id="id_1820">
               <from variable="NumberofParallelBOMTargets" xml:id="id_1821"/>
               <to variable="FlowNLoopCount" xml:id="id_1822"/>
              </copy>
              <copy xml:id="id_1823">
               <from expression="bpws:getVariableData('NoofTargets') - bpws:getVariableData('NumberofParallelBOMTargets')"
                     xml:id="id_1824"/>
               <to variable="NoofTargets" xml:id="id_1825"/>
              </copy>
             </assign>
            </case>
            <otherwise xml:id="id_1826">
             <assign name="Assign_NoofRemainingTargetstoFlowNLoopCount"
                     xml:id="id_1827">
              <copy xml:id="id_1828">
               <from variable="NoofTargets" xml:id="id_1829"/>
               <to variable="FlowNLoopCount" xml:id="id_1830"/>
              </copy>
             </assign>
            </otherwise>
           </switch>
           <bpelx:flowN name="SyncBOMFlowN" N="bpws:getVariableData('FlowNLoopCount')" indexVariable="SyncBOMFlowNIndex"
                        xml:id="id_1831">
            <scope name="Scope_SyncBillOfMaterials" xml:id="id_1832">
             <variables xml:id="id_1833">
              <variable name="ItemSyncStatusFlag" messageType="itemlistabcs:ItemSyncStatusFlag"
                        xml:id="id_1834"/>
              <variable name="ProcessedTargetName" messageType="itemlistabcs:TargetEntityStatusArrayMsg"
                        xml:id="id_1835"/>
              <variable name="syncBillOfMaterialEBSReqMsg" messageType="ns6:SyncBillOfMaterialsListReqMsg"
                        xml:id="id_1836"/>
              <variable name="receiveSyncBillOfMaterialsListResponse_InputVariable" messageType="itemlistabcs:SyncBillOfMaterialsListResMsg"
                        xml:id="id_1837"/>
              <variable name="TempBOMPublicationStatus" type="xsd:string"
                        xml:id="id_1838"/>
              <variable name="InvokePublicationService_InputVariable" messageType="ns7:PublicationService_UpdatePublicationStatus_InputMessage"
                        xml:id="id_1839"/>
              <variable name="InvokePublicationService_OutputVariable" messageType="ns7:PublicationService_UpdatePublicationStatus_OutputMessage"
                        xml:id="id_1840"/>
              <variable name="TempSystemCode" type="xsd:string"
                        xml:id="id_1841"/>
              <variable name="SyncPublication_XSLParam" element="bpelcommon:parameters"
                        xml:id="id_1842"/>
              <variable name="SyncBillOfMaterialsFlowNErrorXSLTParameters" element="bpelcommon:parameters"
                        xml:id="id_1843"/>
              <variable name="WorkFlowReleaseFlag" type="xsd:string"
                        xml:id="id_1844"/>
              <variable name="PreInvokeBillOfMaterialsListEBSSyncBOMListEBMMsg_InputVar" messageType="tns:PreInvokeBillOfMaterialsListEBSSyncBOMListEBMMsg"
                        xml:id="id_1845"/>
              <variable name="PreInvokeBillOfMaterialsListEBSSyncBOMListEBMMsg_OutputVar" messageType="tns:PreInvokeBillOfMaterialsListEBSSyncBOMListEBMMsg"
                        xml:id="id_1846"/>
              <variable name="PostXformEBMtoABMBOMListEBMMsg_InputVar" messageType="tns:PostXformEBMtoABMBOMListEBMMsg"
                        xml:id="id_1847"/>
              <variable name="PostXformEBMtoABMBOMListEBMMsg_OutputVar" messageType="tns:PostXformEBMtoABMBOMListEBMMsg"
                        xml:id="id_1848"/>
              <variable name="PreInvokePublicationServiceBOMListEBMMsg_InputVar" messageType="tns:PreInvokePublicationServiceBOMListEBMMsg"
                        xml:id="id_1849"/>
              <variable name="PreInvokePublicationServiceBOMListEBMMsg_OutputVar" messageType="tns:PreInvokePublicationServiceBOMListEBMMsg"
                        xml:id="id_1850"/>
             </variables>
             <!-- FlowN Error Handling  -->
             <faultHandlers xml:id="id_1851">
              <catch faultName="bpelx:remoteFault" faultVariable="RuntimeFaultMessage"
                     xml:id="id_1852">
               <sequence name="Sequence_RemoteFault" xml:id="id_1853">
                <bpelx:exec name="TraceLog_BeginRemoteFaultCatch" language="java" version="1.3"
                            xml:id="id_1854">
                 <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Entering Error Hanlder Remote Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
                </bpelx:exec>
                <assign name="Assign_FlowNErrorXSLParam" xml:id="id_1855">
                 <copy xml:id="id_1856">
                  <from expression="'Fault'" xml:id="id_1857"/>
                  <to variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:EntrySyncStatus"
                      xml:id="id_1858"/>
                 </copy>
                 <copy xml:id="id_1859">
                  <from xml:id="id_1860">
                   <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                                          xml:id="id_1861">
                    <bpelcommon:item xml:id="id_1862">
                     <bpelcommon:name xml:id="id_1863">BATCHID</bpelcommon:name>
                     <bpelcommon:value xml:id="id_1864"/>
                    </bpelcommon:item>
                    <bpelcommon:item xml:id="id_1865">
                     <bpelcommon:name xml:id="id_1866">ERRORSUMMARY</bpelcommon:name>
                     <bpelcommon:value xml:id="id_1867"/>
                    </bpelcommon:item>
                    <bpelcommon:item xml:id="id_1868">
                     <bpelcommon:name xml:id="id_1869">SYSTEMCODE</bpelcommon:name>
                     <bpelcommon:value xml:id="id_1870"/>
                    </bpelcommon:item>
                   </bpelcommon:parameters>
                  </from>
                  <to variable="SyncBillOfMaterialsFlowNErrorXSLTParameters" query="/bpelcommon:parameters"
                      xml:id="id_1871"/>
                 </copy>
                 <copy xml:id="id_1872">
                  <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
                        xml:id="id_1873"/>
                  <to variable="SyncBillOfMaterialsFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BATCHID']/bpelcommon:value"
                      xml:id="id_1874"/>
                 </copy>
                 <copy xml:id="id_1875">
                  <from variable="RuntimeFaultMessage" part="summary"
                        xml:id="id_1876"/>
                  <to variable="SyncBillOfMaterialsFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ERRORSUMMARY']/bpelcommon:value"
                      xml:id="id_1877"/>
                 </copy>
                 <copy xml:id="id_1878">
                  <from expression="bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems/TargetSystem[bpws:getVariableData(&quot;ProcessedTargetIndex&quot;)]/SystemCode')"
                        xml:id="id_1879"/>
                  <to variable="SyncBillOfMaterialsFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SYSTEMCODE']/bpelcommon:value"
                      xml:id="id_1880"/>
                 </copy>
                </assign>
                <assign name="XformBillOfMaterialsSyncFlowNErrorMessagetoPublicationServiceInput"
                        xml:id="id_1881">
                 <copy xml:id="id_1882">
                  <from expression="ora:processXSLT('xsl/XformBillOfMaterialsSyncFlowNErrorMessageToPublicationServiceInput.xsl',bpws:getVariableData('syncBillOfMaterialEBSReqMsg','SyncBillOfMaterialsListEBM'),bpws:getVariableData('SyncBillOfMaterialsFlowNErrorXSLTParameters'))"
                        xml:id="id_1883"/>
                  <to variable="InvokePublicationService_InputVariable" part="body"
                      xml:id="id_1884"/>
                 </copy>
                </assign>
                <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_InputVariable" outputVariable="InvokePublicationService_OutputVariable"
                        xml:id="id_1918" bpelx:invokeAsDetail="no">
                 <bpelx:inputProperty name="endpointURI" xml:id="id_2282"
                                      expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
                </invoke>
                <assign name="Assign_ConstructTargetStatusArrayAppend"
                        xml:id="id_1919">
                 <extensibleAssign xml:id="id_1920">
                  <bpelx:insertAfter xml:id="id_1921">
                   <bpelx:from variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus"
                               xml:id="id_1922"/>
                   <bpelx:to variable="TargetEntityStatusVar" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus"
                             xml:id="id_1923"/>
                  </bpelx:insertAfter>
                 </extensibleAssign>
                </assign>
                <bpelx:exec name="TraceLog_EndRemoteFaultCatch" language="java" version="1.3"
                            xml:id="id_1924">
                 <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Exiting Error Hanlder Remote Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
                </bpelx:exec>
               </sequence>
              </catch>
              <catch faultName="bpelx:bindingFault" faultVariable="RuntimeFaultMessage"
                     xml:id="id_1925">
               <sequence name="Sequence_BindingFault" xml:id="id_1926">
                <bpelx:exec name="TraceLog_BeginBindingFaultCatch" language="java" version="1.3"
                            xml:id="id_1927">
                 <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Entering Error Hanlder Binding Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
                </bpelx:exec>
                <assign name="Assign_FlowNErrorXSLParam" xml:id="id_1928">
                 <copy xml:id="id_1929">
                  <from expression="'Fault'" xml:id="id_1930"/>
                  <to variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:EntrySyncStatus"
                      xml:id="id_1931"/>
                 </copy>
                 <copy xml:id="id_1932">
                  <from xml:id="id_1933">
                   <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                                          xml:id="id_1934">
                    <bpelcommon:item xml:id="id_1935">
                     <bpelcommon:name xml:id="id_1936">BATCHID</bpelcommon:name>
                     <bpelcommon:value xml:id="id_1937"/>
                    </bpelcommon:item>
                    <bpelcommon:item xml:id="id_1938">
                     <bpelcommon:name xml:id="id_1939">ERRORSUMMARY</bpelcommon:name>
                     <bpelcommon:value xml:id="id_1940"/>
                    </bpelcommon:item>
                    <bpelcommon:item xml:id="id_1941">
                     <bpelcommon:name xml:id="id_1942">SYSTEMCODE</bpelcommon:name>
                     <bpelcommon:value xml:id="id_1943"/>
                    </bpelcommon:item>
                   </bpelcommon:parameters>
                  </from>
                  <to variable="SyncBillOfMaterialsFlowNErrorXSLTParameters" query="/bpelcommon:parameters"
                      xml:id="id_1944"/>
                 </copy>
                 <copy xml:id="id_1945">
                  <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
                        xml:id="id_1946"/>
                  <to variable="SyncBillOfMaterialsFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BATCHID']/bpelcommon:value"
                      xml:id="id_1947"/>
                 </copy>
                 <copy xml:id="id_1948">
                  <from variable="RuntimeFaultMessage" part="summary"
                        xml:id="id_1949"/>
                  <to variable="SyncBillOfMaterialsFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ERRORSUMMARY']/bpelcommon:value"
                      xml:id="id_1950"/>
                 </copy>
                 <copy xml:id="id_1951">
                  <from expression="bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems/TargetSystem[bpws:getVariableData(&quot;ProcessedTargetIndex&quot;)]/SystemCode')"
                        xml:id="id_1952"/>
                  <to variable="SyncBillOfMaterialsFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SYSTEMCODE']/bpelcommon:value"
                      xml:id="id_1953"/>
                 </copy>
                </assign>
                <assign name="XformBillOfMaterialsSyncFlowNErrorMessagetoPublicationServiceInput"
                        xml:id="id_1954">
                 <copy xml:id="id_1955">
                  <from expression="ora:processXSLT('xsl/XformBillOfMaterialsSyncFlowNErrorMessageToPublicationServiceInput.xsl',bpws:getVariableData('syncBillOfMaterialEBSReqMsg','SyncBillOfMaterialsListEBM'),bpws:getVariableData('SyncBillOfMaterialsFlowNErrorXSLTParameters'))"
                        xml:id="id_1956"/>
                  <to variable="InvokePublicationService_InputVariable" part="body"
                      xml:id="id_1957"/>
                 </copy>
                </assign>
                <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_InputVariable" outputVariable="InvokePublicationService_OutputVariable"
                        xml:id="id_1991" bpelx:invokeAsDetail="no">
                 <bpelx:inputProperty name="endpointURI" xml:id="id_2283"
                                      expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
                </invoke>
                <assign name="Assign_ConstructTargetStatusArrayAppend"
                        xml:id="id_1992">
                 <extensibleAssign xml:id="id_1993">
                  <bpelx:insertAfter xml:id="id_1994">
                   <bpelx:from variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus"
                               xml:id="id_1995"/>
                   <bpelx:to variable="TargetEntityStatusVar" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus"
                             xml:id="id_1996"/>
                  </bpelx:insertAfter>
                 </extensibleAssign>
                </assign>
                <bpelx:exec name="TraceLog_EndBindingFaultCatch" language="java" version="1.3"
                            xml:id="id_1997">
                 <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Exiting Error Hanlder Binding Fault Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
                </bpelx:exec>
               </sequence>
              </catch>
              <catchAll xml:id="id_1998">
               <sequence name="Sequence_CatchAll" xml:id="id_1999">
                <bpelx:exec name="TraceLog_BeginCatchAll" language="java" version="1.3"
                            xml:id="id_2000">
                 <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Entering Error Hanlder Catch All Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
                </bpelx:exec>
                <assign name="Assign_AIAAsyncErrorHandlingBPELProcessRequestMessage"
                        xml:id="id_2001">
                 <copy xml:id="id_2002">
                  <from expression="ora:getFaultAsString()" xml:id="id_2003"/>
                  <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultMessage/corecom:Text"
                      xml:id="id_2004"/>
                 </copy>
                 <copy xml:id="id_2005">
                  <from expression="xp20:current-dateTime()" xml:id="id_2006"/>
                  <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:ReportingDateTime"
                      xml:id="id_2007"/>
                 </copy>
                 <copy xml:id="id_2008">
                  <from expression="ora:getProcessId()" xml:id="id_2009"/>
                  <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:ID"
                      xml:id="id_2010"/>
                 </copy>
                 <copy xml:id="id_2011">
                  <from expression="'BPEL'" xml:id="id_2012"/>
                  <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:ImplementationCode"
                      xml:id="id_2013"/>
                 </copy>
                 <copy xml:id="id_2014">
                  <from expression="ora:getInstanceId()" xml:id="id_2015"/>
                  <to variable="AIAAsyncErrorHandlingBPELProcessRequestMessage" part="FaultMessage" query="/corecom:Fault/corecom:FaultNotification/corecom:FaultingService/corecom:InstanceID"
                      xml:id="id_2016"/>
                 </copy>
                </assign>
                <invoke name="Invoke_AIAAsyncErrorHandlingBPELProcess" partnerLink="AIAAsyncErrorHandlingBPELProcess" portType="aiaeh:AIAAsyncErrorHandlingBPELProcess" operation="initiate" inputVariable="AIAAsyncErrorHandlingBPELProcessRequestMessage"
                        xml:id="id_2017"/>
                <assign name="Assign_FlowNErrorXSLParam" xml:id="id_2018">
                 <copy xml:id="id_2019">
                  <from expression="'Fault'" xml:id="id_2020"/>
                  <to variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:EntrySyncStatus"
                      xml:id="id_2021"/>
                 </copy>
                 <copy xml:id="id_2022">
                  <from xml:id="id_2023">
                   <bpelcommon:parameters xmlns:ns1="http://schemas.oracle.com/service/bpel/common" xmlns:bpelcommon="http://schemas.oracle.com/service/bpel/common"
                                          xml:id="id_2024">
                    <bpelcommon:item xml:id="id_2025">
                     <bpelcommon:name xml:id="id_2026">BATCHID</bpelcommon:name>
                     <bpelcommon:value xml:id="id_2027"/>
                    </bpelcommon:item>
                    <bpelcommon:item xml:id="id_2028">
                     <bpelcommon:name xml:id="id_2029">ERRORSUMMARY</bpelcommon:name>
                     <bpelcommon:value xml:id="id_2030"/>
                    </bpelcommon:item>
                    <bpelcommon:item xml:id="id_2031">
                     <bpelcommon:name xml:id="id_2032">SYSTEMCODE</bpelcommon:name>
                     <bpelcommon:value xml:id="id_2033"/>
                    </bpelcommon:item>
                   </bpelcommon:parameters>
                  </from>
                  <to variable="SyncBillOfMaterialsFlowNErrorXSLTParameters" query="/bpelcommon:parameters"
                      xml:id="id_2034"/>
                 </copy>
                 <copy xml:id="id_2035">
                  <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
                        xml:id="id_2036"/>
                  <to variable="SyncBillOfMaterialsFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='BATCHID']/bpelcommon:value"
                      xml:id="id_2037"/>
                 </copy>
                 <copy xml:id="id_2038">
                  <from variable="RuntimeFaultMessage" part="summary"
                        xml:id="id_2039"/>
                  <to variable="SyncBillOfMaterialsFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='ERRORSUMMARY']/bpelcommon:value"
                      xml:id="id_2040"/>
                 </copy>
                 <copy xml:id="id_2041">
                  <from expression="bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems/TargetSystem[bpws:getVariableData(&quot;ProcessedTargetIndex&quot;)]/SystemCode')"
                        xml:id="id_2042"/>
                  <to variable="SyncBillOfMaterialsFlowNErrorXSLTParameters" query="/bpelcommon:parameters/bpelcommon:item[bpelcommon:name='SYSTEMCODE']/bpelcommon:value"
                      xml:id="id_2043"/>
                 </copy>
                </assign>
                <assign name="XformBillOfMaterialsSyncFlowNErrorMessagetoPublicationServiceInput"
                        xml:id="id_2044">
                 <copy xml:id="id_2045">
                  <from expression="ora:processXSLT('xsl/XformBillOfMaterialsSyncFlowNErrorMessageToPublicationServiceInput.xsl',bpws:getVariableData('syncBillOfMaterialEBSReqMsg','SyncBillOfMaterialsListEBM'),bpws:getVariableData('SyncBillOfMaterialsFlowNErrorXSLTParameters'))"
                        xml:id="id_2046"/>
                  <to variable="InvokePublicationService_InputVariable" part="body"
                      xml:id="id_2047"/>
                 </copy>
                </assign>
                <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_InputVariable" outputVariable="InvokePublicationService_OutputVariable"
                        xml:id="id_2081" bpelx:invokeAsDetail="no">
                 <bpelx:inputProperty name="endpointURI" xml:id="id_2284"
                                      expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
                </invoke>
                <bpelx:exec name="TraceLog_EndCatchAll" language="java" version="1.3"
                            xml:id="id_2082">
                 <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " Exiting Error Hanlder Catch All Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
                </bpelx:exec>
               </sequence>
              </catchAll>
             </faultHandlers>
             <!-- End FlowN Error Handling  -->
             <sequence name="Sequence_SyncBillOfMaterials" xml:id="id_2083">
              <scope name="SyncBillOfMaterialFlowN" xml:id="id_2084">
               <correlationSets xml:id="id_2085">
                <correlationSet name="CorrelationSet_processBillOfMaterial" properties="ns8:syncBillOfMaterialEBSReqMsg_SyncBillOfMaterialsListEBM_EBMID_prop"
                                xml:id="id_2086"/>
               </correlationSets>
               <sequence name="SyncBillOfMaterial_FlowN" xml:id="id_2087">
                <assign name="AssignParams" xml:id="id_2088">
                 <copy xml:id="id_2089">
                  <from expression="bpws:getVariableData('SyncBOMFlowNIndex') + ( bpws:getVariableData('NumberofParallelBOMTargets') * (bpws:getVariableData('FlowNWhileLoopIndex') - 1))"
                        xml:id="id_2090"/>
                  <to variable="ProcessedTargetIndex" xml:id="id_2091"/>
                 </copy>
                 <copy xml:id="id_2092">
                  <from expression="dvm:lookupValue('oramds:/apps/AIAMetaData/dvm/TARGET_ID.dvm','PIM_01',bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems/TargetSystem[bpws:getVariableData(&quot;ProcessedTargetIndex&quot;)]/SystemCode'),'COMMON',bpws:getVariableData('invokeGetListofTargetSystems_GetBatchSystems_OutputVariable','body','/ns9:PublicationService_GetBatchSystems_Response/listofTargetSystems/TargetSystem[bpws:getVariableData(&quot;ProcessedTargetIndex&quot;)]/SystemCode'))"
                        xml:id="id_2093"/>
                  <to variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:TargetName"
                      xml:id="id_2094"/>
                 </copy>
                 <copy xml:id="id_2095">
                  <from variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:TargetName"
                        xml:id="id_2096"/>
                  <to variable="TempSystemCode" xml:id="id_2097"/>
                 </copy>
                </assign>
                <switch name="Switch_ProcessBOMFlag" xml:id="id_2098">
                 <!-- add logic to restrict the BOM process for Item's got failed'  in case -->
                 <case condition="dvm:lookupValue('oramds:/apps/AIAMetaData/dvm/ENTITY_TO_TARGET_APPLICATION.dvm','TARGET_ID',bpws:getVariableData('ProcessedTargetName','TargetEntityStatusArray','/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:TargetName'),'RECEIVE_BOM_FLAG','F') = 'T' and count(bpws:getVariableData('TargetEntityStatusVar','TargetEntityStatusArray','/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus[itemlistabcs:TargetName=$TempSystemCode and itemlistabcs:EntrySyncStatus=&quot;Failed&quot;]')) &lt;= 0"
                       xml:id="id_2099">
                  <sequence name="SyncBOM" xml:id="id_2100">
                   <bpelx:exec name="TraceLog_BeforeInvokeBillsOfMaterialList" language="java" version="1.3"
                               xml:id="id_2101">
                    <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled;  
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     

tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                  
setVariableData("TraceLogEnabled", tracelogenabled);        

if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + "Before BillsOfMaterial EBS Service Invoke Instance: " + instanceID + title; ;                         
   
   oracle.xml.parser.v2.XMLElement EBM_HEADER =                                                                        
                                                                              
   (oracle.xml.parser.v2.XMLElement)getVariableData("EBM_HEADER");                                                                                     
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  EBM_HEADER ,TraceLogMessage); 
   
}]]>
                   </bpelx:exec>
                   <switch name="SetWorkFlowReleaseFlagForItem"
                           xml:id="id_2102">
                    <case condition="bpws:getVariableData('BOMSyncWhileLoopFlag') = 'false'"
                          xml:id="id_2103">
                     <assign name="Assign_ReleaseFlag" xml:id="id_2104">
                      <copy xml:id="id_2105">
                       <from expression="bpws:getVariableData('WorkFlowReleaseFlagValue')"
                             xml:id="id_2106"/>
                       <to variable="WorkFlowReleaseFlag" xml:id="id_2107"/>
                      </copy>
                     </assign>
                    </case>
                    <otherwise xml:id="id_2108">
                     <assign name="Assign_ReleaseFlag" xml:id="id_2109">
                      <copy xml:id="id_2110">
                       <from expression="'N'" xml:id="id_2111"/>
                       <to variable="WorkFlowReleaseFlag" xml:id="id_2112"/>
                      </copy>
                     </assign>
                    </otherwise>
                   </switch>
                   <assign name="Assign_LocalSyncBillofMaterialsEBM"
                           xml:id="id_2113">
                    <copy xml:id="id_2114">
                     <from variable="syncBillsOfMaterialListEBM" part="SyncBillOfMaterialsListEBM" query="/ns2:SyncBillOfMaterialsListEBM"
                           xml:id="id_2115"/>
                     <to variable="syncBillOfMaterialEBSReqMsg" part="SyncBillOfMaterialsListEBM" query="/ns2:SyncBillOfMaterialsListEBM"
                         xml:id="id_2116"/>
                    </copy>
                    <copy xml:id="id_2117">
                     <from expression="orcl:generate-guid()" xml:id="id_2118"/>
                     <to variable="syncBillOfMaterialEBSReqMsg" part="SyncBillOfMaterialsListEBM" query="/ns2:SyncBillOfMaterialsListEBM/corecom:EBMHeader/corecom:EBMID"
                         xml:id="id_2119"/>
                    </copy>
                    <copy xml:id="id_2120">
                     <from variable="SyncItemListReqMsg" part="SyncItemList" query="/itemlistabo:WF_EVENT_T/PARAMETER_LIST/PARAMETER_LIST_ITEM[NAME = &quot;BATCH_ID&quot;]/VALUE"
                           xml:id="id_2121"/>
                     <to variable="syncBillOfMaterialEBSReqMsg" part="SyncBillOfMaterialsListEBM" query="/ns2:SyncBillOfMaterialsListEBM/corecom:EBMHeader/corecom:MessageBatch/corecom:ID"
                         xml:id="id_2122"/>
                    </copy>
                    <copy xml:id="id_2123">
                     <from variable="ProcessedTargetName" part="TargetEntityStatusArray" query="/itemlistabcs:TargetEntityStatusArray/itemlistabcs:TargetEntityStatus/itemlistabcs:TargetName"
                           xml:id="id_2124"/>
                     <to variable="syncBillOfMaterialEBSReqMsg" part="SyncBillOfMaterialsListEBM" query="/ns2:SyncBillOfMaterialsListEBM/corecom:EBMHeader/corecom:Target/corecom:ID"
                         xml:id="id_2125"/>
                    </copy>
                    <copy xml:id="id_2126">
                     <from expression="bpws:getVariableData('WorkFlowReleaseFlag')"
                           xml:id="id_2127"/>
                     <to variable="syncBillOfMaterialEBSReqMsg" part="SyncBillOfMaterialsListEBM" query="/ns2:SyncBillOfMaterialsListEBM/corecom:EBMHeader/corecom:MessageBatch/corecom:BatchParameter[corecom:Name=&quot;WORKSPACE_RELEASE_FLAG&quot;]/corecom:Value"
                         xml:id="id_2128"/>
                    </copy>
                   </assign>
                   <scope name="Extn_PreInvokeBillOfMaterialsListEBSSyncBOMListEBM" xml:id="id_2252"
                          variableAccessSerializable="no"
                          bpelx:skipCondition="aia:getServiceProperty(bpws:getVariableData('ServiceName'),'ABCSExtension.PreInvokeBillOfMaterialsListEBSSyncBOMListEBM',false())!='true'" ui:customizable="true">
                    <sequence name="Sequence_32" xml:id="id_2131">
                     <assign name="Assign_EBM" xml:id="id_2132">
                      <copy xml:id="id_2133">
                       <from variable="syncBillOfMaterialEBSReqMsg"
                             part="SyncBillOfMaterialsListEBM"
                             query="/ns2:SyncBillOfMaterialsListEBM"
                             xml:id="id_2134"/>
                       <to variable="PreInvokeBillOfMaterialsListEBSSyncBOMListEBMMsg_InputVar"
                           part="SyncBillOfMaterialsListEBM"
                           query="/ns2:SyncBillOfMaterialsListEBM"
                           xml:id="id_2135"/>
                      </copy>
                     </assign>
                     <invoke name="PreInvokeBillOfMaterialsListEBSSyncBOMListEBM"
                             partnerLink="SyncItemListPIMReqABCSImplExtension"
                             portType="tns:SyncItemListPIMReqABCSImplExtensionService"
                             operation="PreInvokeBillOfMaterialsListEBSSyncBOMListEBM"
                             inputVariable="PreInvokeBillOfMaterialsListEBSSyncBOMListEBMMsg_InputVar"
                             outputVariable="PreInvokeBillOfMaterialsListEBSSyncBOMListEBMMsg_OutputVar"
                             xml:id="id_2136"/>
                     <assign name="Assign_EBM" xml:id="id_2137">
                      <copy xml:id="id_2138">
                       <from variable="PreInvokeBillOfMaterialsListEBSSyncBOMListEBMMsg_OutputVar"
                             part="SyncBillOfMaterialsListEBM"
                             query="/ns2:SyncBillOfMaterialsListEBM"
                             xml:id="id_2139"/>
                       <to variable="syncBillOfMaterialEBSReqMsg"
                           part="SyncBillOfMaterialsListEBM"
                           query="/ns2:SyncBillOfMaterialsListEBM"
                           xml:id="id_2140"/>
                      </copy>
                     </assign>
                    </sequence>
                   </scope>                   
                   <invoke name="InvokeBillOfMaterialEBS" partnerLink="BillOfMaterialsEBS" portType="ns6:BillOfMaterialsEBS" operation="SyncBillOfMaterialsList" inputVariable="syncBillOfMaterialEBSReqMsg"
                           xml:id="id_2143">
                    <correlations xml:id="id_2144">
                     <correlation initiate="yes" set="CorrelationSet_processBillOfMaterial" pattern="out"
                                  xml:id="id_2145"/>
                    </correlations>
                   </invoke>
                   <bpelx:exec name="TraceLog_AfterInvokeBillsOfMaterialList" language="java" version="1.3"
                               xml:id="id_2146">
                    <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled;  
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     

tracelogenabled = oracle.apps.aia.core.eh.logging.AIALogger.isTraceLoggingEnabled("INFO","{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl");                                                                                  
setVariableData("TraceLogEnabled", tracelogenabled);        

if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + "After BillsOfMaterial EBS Service Invoke Instance: " + instanceID + title; ;                         
   
   oracle.xml.parser.v2.XMLElement EBM_HEADER =                                                                        
                                                                              
   (oracle.xml.parser.v2.XMLElement)getVariableData("EBM_HEADER");                                                                                     
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  EBM_HEADER ,TraceLogMessage); 
   
}]]>
                   </bpelx:exec>
                   <receive name="ReceiveBillOfMaterials" partnerLink="SyncItemListPIMReqABCSImpl" portType="itemlistabcs:SyncItemListPIMReqABCSImplService" operation="ReceiveSyncBillOfMaterialsListResponse" variable="receiveSyncBillOfMaterialsListResponse_InputVariable" createInstance="no"
                            xml:id="id_2147">
                    <correlations xml:id="id_2148">
                     <correlation initiate="no" set="CorrelationSet_processBillOfMaterial"
                                  xml:id="id_2149"/>
                    </correlations>
                   </receive>
                   <scope name="Extn_Invoke_PostXformEBMtoABM" xml:id="id_2253"
                          variableAccessSerializable="no"
                          bpelx:skipCondition="aia:getServiceProperty(bpws:getVariableData('ServiceName'),'ABCSExtension.PostXformEBMtoABMBOMListEBM',false())!='true'"
                          ui:customizable="true">
                    <sequence name="Sequence_33" xml:id="id_2152">
                     <assign name="Assign_EBM" xml:id="id_2153">
                      <copy xml:id="id_2154">
                       <from variable="receiveSyncBillOfMaterialsListResponse_InputVariable"
                             part="SyncBillOfMaterialsListResponseEBM"
                             query="/ns2:SyncBillOfMaterialsListResponseEBM"
                             xml:id="id_2155"/>
                       <to variable="PostXformEBMtoABMBOMListEBMMsg_InputVar"
                           part="SyncBillOfMaterialsListResponseEBM"
                           query="/ns2:SyncBillOfMaterialsListResponseEBM"
                           xml:id="id_2156"/>
                      </copy>
                     </assign>
                     <invoke name="Invoke_PostXformEBMtoABM"
                             partnerLink="SyncItemListPIMReqABCSImplExtension"
                             portType="tns:SyncItemListPIMReqABCSImplExtensionService"
                             operation="PostXformEBMtoABMBOMListEBM"
                             inputVariable="PostXformEBMtoABMBOMListEBMMsg_InputVar"
                             outputVariable="PostXformEBMtoABMBOMListEBMMsg_OutputVar"
                             xml:id="id_2157"/>
                     <assign name="Assign_EBM" xml:id="id_2158">
                      <copy xml:id="id_2159">
                       <from variable="PostXformEBMtoABMBOMListEBMMsg_OutputVar"
                             part="SyncBillOfMaterialsListResponseEBM"
                             query="/ns2:SyncBillOfMaterialsListResponseEBM"
                             xml:id="id_2160"/>
                       <to variable="receiveSyncBillOfMaterialsListResponse_InputVariable"
                           part="SyncBillOfMaterialsListResponseEBM"
                           query="/ns2:SyncBillOfMaterialsListResponseEBM"
                           xml:id="id_2161"/>
                      </copy>
                     </assign>
                    </sequence>
                   </scope>
                   <assign name="XformSyncBillOfmateriasListResponseEBMlToPublicationStatusABM"
                           xml:id="id_2164">
                    <copy xml:id="id_2165">
                     <from expression="ora:processXSLT('xsl/XformSyncBillOfmateriasListResponseEBMlToPublicationStatusABM.xsl',bpws:getVariableData('receiveSyncBillOfMaterialsListResponse_InputVariable','SyncBillOfMaterialsListResponseEBM'))"
                           xml:id="id_2166"/>
                     <to variable="InvokePublicationService_InputVariable" part="body"
                         xml:id="id_2167"/>
                    </copy>
                   </assign>
                   <scope name="Extn_Invoke_PreInvokePublicationServiceBOMListEBM" xml:id="id_2254"
                          variableAccessSerializable="no"
                          bpelx:skipCondition="aia:getServiceProperty(bpws:getVariableData('ServiceName'),'ABCSExtension.PreInvolkePublicationServiceBOMListEBM',false())!='true'" ui:customizable="true">
                    <sequence name="Sequence_34" xml:id="id_2170">
                     <assign name="Assign_ABM" xml:id="id_2171">
                      <copy xml:id="id_2172">
                       <from variable="InvokePublicationService_InputVariable"
                             part="body"
                             query="/ns9:PublicationService_UpdatePublicationStatus"
                             xml:id="id_2173"/>
                       <to variable="PreInvokePublicationServiceBOMListEBMMsg_InputVar"
                           part="PublicationService_UpdatePublicationStatus"
                           query="/ns9:PublicationService_UpdatePublicationStatus"
                           xml:id="id_2174"/>
                      </copy>
                     </assign>
                     <invoke name="Invoke_PreInvokePublicationServiceBOMListEBM"
                             partnerLink="SyncItemListPIMReqABCSImplExtension"
                             portType="tns:SyncItemListPIMReqABCSImplExtensionService"
                             operation="PreInvokePublicationServiceBOMListEBM"
                             inputVariable="PreInvokePublicationServiceBOMListEBMMsg_InputVar"
                             outputVariable="PreInvokePublicationServiceBOMListEBMMsg_OutputVar"
                             xml:id="id_2175"/>
                     <assign name="Assign_ABM" xml:id="id_2176">
                      <copy xml:id="id_2177">
                       <from variable="PreInvokePublicationServiceBOMListEBMMsg_OutputVar"
                             part="PublicationService_UpdatePublicationStatus"
                             query="/ns9:PublicationService_UpdatePublicationStatus"
                             xml:id="id_2178"/>
                       <to variable="InvokePublicationService_InputVariable"
                           part="body"
                           query="/ns9:PublicationService_UpdatePublicationStatus"
                           xml:id="id_2179"/>
                      </copy>
                     </assign>
                    </sequence>
                   </scope>
                   <switch name="Switch_HeaderExistsInConfig" xml:id="id_2215">
   <case condition="bpws:getVariableData('Responsibility_Name') != ''"
         xml:id="id_2216">
    <bpelx:annotation xml:id="id_2217">
     <bpelx:pattern xml:id="id_2218">HeaderExistsInConfig</bpelx:pattern>
     <bpelx:general xml:id="id_2219">
      <bpelx:property name="userLabel" xml:id="id_2220">HeaderExistsInConfig</bpelx:property>
     </bpelx:general>
    </bpelx:annotation>
    <sequence xml:id="id_2221">
                    
    <assign name="AssignHeader" xml:id="id_2222">
     <copy xml:id="id_2223">
      <from variable="Responsibility_Name" xml:id="id_2224"/>
      <to variable="InvokePublicationService_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:RESPONSIBILITY_NAME"
          xml:id="id_2225"/>
     </copy>
     <copy xml:id="id_2226">
      <from variable="Responsibility_Appl_Name" xml:id="id_2227"/>
      <to variable="InvokePublicationService_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:RESPONSIBILITY_APPL_NAME"
          xml:id="id_2228"/>
     </copy>
     <copy xml:id="id_2229">
      <from variable="Security_Group_Name" xml:id="id_2230"/>
      <to variable="InvokePublicationService_InputVariable"
          part="header"
          query="/ns10:ServiceBean_Header/ns10:SECURITY_GROUP_NAME"
          xml:id="id_2231"/>
     </copy>
     <copy xml:id="id_2232">
      <from variable="Nls_Language" xml:id="id_2233"/>
      <to variable="InvokePublicationService_InputVariable"
          part="header" query="/ns10:ServiceBean_Header/ns10:NLS_LANGUAGE"
          xml:id="id_2234"/>
     </copy>
     
    </assign>
    </sequence>
   </case>
   <otherwise xml:id="id_2235">
    <empty name="Empty_1" xml:id="id_2236"/>
   </otherwise>
  </switch>
                   <invoke name="InvokePublicationService" partnerLink="PublicationService" portType="ns7:PublicationService_PortType" operation="PublicationService_UpdatePublicationStatus" inputVariable="InvokePublicationService_InputVariable" outputVariable="InvokePublicationService_OutputVariable"
                           xml:id="id_2237" bpelx:invokeAsDetail="no">
                    <bpelx:inputProperty name="endpointURI" xml:id="id_2285"
                                         expression="aia:getServiceProperty('{http://xmlns.oracle.com/ABCSImpl/PIM/Core/SyncItemListPIMReqABCSImpl/V1}SyncItemListPIMReqABCSImpl', concat('Routing.PublicationService.', bpws:getVariableData('SystemID'),'.EndpointURI'),false())"/>
                   </invoke>
                  </sequence>
                 </case>
                 <otherwise xml:id="id_2238"/>
                </switch>
               </sequence>
              </scope>
             </sequence>
            </scope>
           </bpelx:flowN>
          </sequence>
         </while>
        </case>
        <otherwise xml:id="id_2239">
         <empty name="Empty_1" xml:id="id_2240"/>
        </otherwise>
       </switch>
      </sequence>
     </while>
    </sequence>
   </case>
   <otherwise xml:id="id_2241">
    <empty name="NoBOMtoProcess" xml:id="id_2242"/>
   </otherwise>
  </switch>
  <bpelx:exec name="TraceLog_EndABCS" language="java" version="1.3"
              xml:id="id_2243">
   <![CDATA[java.lang.String TraceLogMessage = null; 
	java.lang.Boolean tracelogenabled   = (java.lang.Boolean)getVariableData("TraceLogEnabled");
java.lang.String title = (java.lang.String)getVariableData("Title");         
java.lang.String instanceID = (java.lang.String)getVariableData("InstanceID");      
java.lang.String serviceName = (java.lang.String)getVariableData("ServiceName");     


if (tracelogenabled.booleanValue())                                                                                
{                                                                                                                                                                                      
                       
          
   TraceLogMessage = "Starting " + serviceName + " ABCS End Instance: " + instanceID + title; ;                         
   
   oracle.apps.aia.core.eh.logging.AIALogger.logTraceMessage("INFO",  null ,TraceLogMessage); 
   
}]]>
  </bpelx:exec>
 </sequence>
</process>
